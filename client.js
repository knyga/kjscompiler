(window.zmagsJsonp=window.zmagsJsonp||[]).push([[0],{102:function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e.VIEWPORT_CHANGE="viewportChange",e.EXPERIENCE_CONTAINER_CHANGE="experienceContainerChange",e.VIEWER_INIT="viewerInit",e.VIEWER_INITIALIZED="viewerInitialized",e.VIEWER_LIGHTBOX_OPEN="viewerLightboxOpen",e.VIEWER_LIGHTBOX_CLOSE="viewerLightboxClose",e.VIEWER_CLICK_LINK="viewerClickLink",e.VIEWER_JS_CLICK="viewerJsClick",e.VIEWER_CUSTOM_JS_CLICK="viewerCustomJsClick",e.VIEWER_SALESFORCE_COMMERCE="viewerSalesforceCommerce",e.VIEWER_SALESFORCE_WIDGET="viewerSalesforceWidget",e.VIEWER_SCENE_NAVIGATION="viewerSceneNavigation",e.VIEWER_SOCIAL_SHARING="viewerSocialSharing",e.VIEWER_WIDGET_VIEW="viewerWidgetViewed",e.VIEWER_FIT_IN_HEIGHT="viewerFitInHeight",e.EXPERIENCE_ACTIVATE="experienceActivate",e.EXPERIENCE_ACTIVATED="experienceActivated",e.EXPERIENCE_LOAD="experienceLoad",e.EXPERIENCE_LOADED="experienceLoaded",e.EXPERIENCE_ACTIVE_LOADED="experienceActiveLoaded",e.EXPERIENCE_LOAD_FAILED="experienceLoadFailed",e.EXPERIENCE_SCENE_CHANGE="experienceSceneChange",e.EXPERIENCE_MOUSE_ENTER="experienceMouseEnter",e.EXPERIENCE_MOUSE_LEAVE="experienceMouseLeave",e.EXPERIENCE_INITIAL_LOAD_END="experienceInitialLoadEnd",e.ANALYTICS_EVENT_QUEUED="experienceAnalyticsEventQueued",e.REMOVE_ANALYTICS_EVENT="experienceRemoveAnalyticsEvent",e.TEMPLATE_LOAD="templateLoad",e.TEMPLATE_LOADED="templateLoaded",e.TEMPLATE_LOAD_FAILED="templateLoadFailed",e.GROUP_LOAD="groupLoad",e.GROUP_LOADED="groupLoaded",e.GROUP_LOAD_FAILED="groupLoadFailed",e.COMPANY_SETTINGS_LOAD="companySettingsLoad",e.COMPANY_SETTINGS_LOADED="companySettingsLoaded",e.COMPANY_SETTINGS_LOAD_FAILED="companySettingsLoadFailed",e.TRIGGER_ANALYTICS="triggerAnalytics",e.APPLICATION_ERROR="applicationError",e.VIEWER_WIDGET_CLICK="viewerWidgetClick",e.VIEWER_SCENE_NAVIGATOR_WIDGET_CLICK="viewerSceneNavigatorWidgetClick",e.IMAGE_LOADED="imageLoaded"}(i||(i={}))},104:function(e,t,n){e.exports={scene_navigator_container:"SceneNavigatorWidgetComponent_scene_navigator_container_3wdFT",widget_component:"SceneNavigatorWidgetComponent_widget_component_EhQLG",circle:"SceneNavigatorWidgetComponent_circle_2lvJ5",white_1:"SceneNavigatorWidgetComponent_white_1_3gnTu",black_1:"SceneNavigatorWidgetComponent_black_1_1bML4",black_2:"SceneNavigatorWidgetComponent_black_2_1SdGq",black_3:"SceneNavigatorWidgetComponent_black_3_1Ljtz",black_4:"SceneNavigatorWidgetComponent_black_4_1naRk",black_5:"SceneNavigatorWidgetComponent_black_5_3RW-H",white_2:"SceneNavigatorWidgetComponent_white_2_WCgio",white_3:"SceneNavigatorWidgetComponent_white_3_2Ab4l",white_4:"SceneNavigatorWidgetComponent_white_4_1A6ZX",white_5:"SceneNavigatorWidgetComponent_white_5_2LU_q",active:"SceneNavigatorWidgetComponent_active_1oDao"}},121:function(e,t){},122:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"f",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"h",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"j",function(){return f}),n.d(t,"k",function(){return g}),n.d(t,"b",function(){return h});n(36);var i=n(26),r=n(2),a=(n(4),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return{type:r.ActionTypes.EXPERIENCE_ACTIVATE,payload:{experienceId:e,disableGroups:t,withCache:n}}}),o=function(e,t){return{type:r.ActionTypes.EXPERIENCE_ACTIVATED,payload:{experienceId:e,model:t}}},c=function(e,t,n){return{type:r.ActionTypes.EXPERIENCE_LOAD,payload:{experienceId:e,disableGroups:t,withCache:n}}},u=function(e){return{type:r.ActionTypes.EXPERIENCE_LOADED,payload:{experienceId:e.id,model:e}}},s=function(e,t){return{type:r.ActionTypes.EXPERIENCE_LOAD_FAILED,payload:{data:e,experienceId:t}}},l=function(){return{type:r.ActionTypes.EXPERIENCE_INITIAL_LOAD_END}},d=function(e){return{type:r.ActionTypes.EXPERIENCE_MOUSE_ENTER,payload:{experienceId:e}}},p=function(e){return{type:r.ActionTypes.EXPERIENCE_MOUSE_LEAVE,payload:{experienceId:e}}},f=function(e,t,n){return{type:r.ActionTypes.EXPERIENCE_SCENE_CHANGE,payload:{experienceId:e,sceneNumber:t,transitionDirection:n}}},g=function(e,t,n){return{type:r.ActionTypes.VIEWER_SCENE_NAVIGATOR_WIDGET_CLICK,payload:{sceneNumber:e,experienceId:t},widgetId:n}},h=function(e,t){var n=e===i.a.FORWARDS?1:-1,r=t.currentSceneNumber,a=t.model.scenes.length,o=r+n,c=o;return o<1?c=a:o>a&&(c=1),c}},198:function(e,t){},199:function(e,t){},2:function(e,t,n){"use strict";var i=n(102);n.d(t,"ActionTypes",function(){return i.a});n(198);var r=n(199);n.o(r,"JsClickAction")&&n.d(t,"JsClickAction",function(){return r.JsClickAction}),n.o(r,"SignalErrorAction")&&n.d(t,"SignalErrorAction",function(){return r.SignalErrorAction}),n.o(r,"activateExperience")&&n.d(t,"activateExperience",function(){return r.activateExperience}),n.o(r,"clickLinkAction")&&n.d(t,"clickLinkAction",function(){return r.clickLinkAction}),n.o(r,"closeLightboxAction")&&n.d(t,"closeLightboxAction",function(){return r.closeLightboxAction}),n.o(r,"customJsClickAction")&&n.d(t,"customJsClickAction",function(){return r.customJsClickAction}),n.o(r,"getNextSceneNumber")&&n.d(t,"getNextSceneNumber",function(){return r.getNextSceneNumber}),n.o(r,"imageLoadedAction")&&n.d(t,"imageLoadedAction",function(){return r.imageLoadedAction}),n.o(r,"initializeViewer")&&n.d(t,"initializeViewer",function(){return r.initializeViewer}),n.o(r,"openLightboxAction")&&n.d(t,"openLightboxAction",function(){return r.openLightboxAction}),n.o(r,"salesforceCommerceAction")&&n.d(t,"salesforceCommerceAction",function(){return r.salesforceCommerceAction}),n.o(r,"signalExperienceActivated")&&n.d(t,"signalExperienceActivated",function(){return r.signalExperienceActivated}),n.o(r,"signalExperienceContainerChange")&&n.d(t,"signalExperienceContainerChange",function(){return r.signalExperienceContainerChange}),n.o(r,"signalExperienceInitialLoadEnd")&&n.d(t,"signalExperienceInitialLoadEnd",function(){return r.signalExperienceInitialLoadEnd}),n.o(r,"signalExperienceLoad")&&n.d(t,"signalExperienceLoad",function(){return r.signalExperienceLoad}),n.o(r,"signalExperienceLoadFailed")&&n.d(t,"signalExperienceLoadFailed",function(){return r.signalExperienceLoadFailed}),n.o(r,"signalExperienceLoaded")&&n.d(t,"signalExperienceLoaded",function(){return r.signalExperienceLoaded}),n.o(r,"signalExperienceMouseEnter")&&n.d(t,"signalExperienceMouseEnter",function(){return r.signalExperienceMouseEnter}),n.o(r,"signalExperienceMouseLeave")&&n.d(t,"signalExperienceMouseLeave",function(){return r.signalExperienceMouseLeave}),n.o(r,"signalExperienceSceneChange")&&n.d(t,"signalExperienceSceneChange",function(){return r.signalExperienceSceneChange}),n.o(r,"signalGroupLoad")&&n.d(t,"signalGroupLoad",function(){return r.signalGroupLoad}),n.o(r,"signalGroupLoadFailed")&&n.d(t,"signalGroupLoadFailed",function(){return r.signalGroupLoadFailed}),n.o(r,"signalGroupLoaded")&&n.d(t,"signalGroupLoaded",function(){return r.signalGroupLoaded}),n.o(r,"signalTemplateLoad")&&n.d(t,"signalTemplateLoad",function(){return r.signalTemplateLoad}),n.o(r,"signalTemplateLoadFailed")&&n.d(t,"signalTemplateLoadFailed",function(){return r.signalTemplateLoadFailed}),n.o(r,"signalTemplateLoaded")&&n.d(t,"signalTemplateLoaded",function(){return r.signalTemplateLoaded}),n.o(r,"signalViewerFitInHeightAction")&&n.d(t,"signalViewerFitInHeightAction",function(){return r.signalViewerFitInHeightAction}),n.o(r,"signalViewportChange")&&n.d(t,"signalViewportChange",function(){return r.signalViewportChange}),n.o(r,"signalWidgetClick")&&n.d(t,"signalWidgetClick",function(){return r.signalWidgetClick}),n.o(r,"trackSceneNavigationAction")&&n.d(t,"trackSceneNavigationAction",function(){return r.trackSceneNavigationAction}),n.o(r,"trackSocialSharing")&&n.d(t,"trackSocialSharing",function(){return r.trackSocialSharing}),n.o(r,"trackWidgetViewAction")&&n.d(t,"trackWidgetViewAction",function(){return r.trackWidgetViewAction}),n.o(r,"triggerAnalytics")&&n.d(t,"triggerAnalytics",function(){return r.triggerAnalytics});var a=n(200);n.o(a,"JsClickAction")&&n.d(t,"JsClickAction",function(){return a.JsClickAction}),n.o(a,"SignalErrorAction")&&n.d(t,"SignalErrorAction",function(){return a.SignalErrorAction}),n.o(a,"activateExperience")&&n.d(t,"activateExperience",function(){return a.activateExperience}),n.o(a,"clickLinkAction")&&n.d(t,"clickLinkAction",function(){return a.clickLinkAction}),n.o(a,"closeLightboxAction")&&n.d(t,"closeLightboxAction",function(){return a.closeLightboxAction}),n.o(a,"customJsClickAction")&&n.d(t,"customJsClickAction",function(){return a.customJsClickAction}),n.o(a,"getNextSceneNumber")&&n.d(t,"getNextSceneNumber",function(){return a.getNextSceneNumber}),n.o(a,"imageLoadedAction")&&n.d(t,"imageLoadedAction",function(){return a.imageLoadedAction}),n.o(a,"initializeViewer")&&n.d(t,"initializeViewer",function(){return a.initializeViewer}),n.o(a,"openLightboxAction")&&n.d(t,"openLightboxAction",function(){return a.openLightboxAction}),n.o(a,"salesforceCommerceAction")&&n.d(t,"salesforceCommerceAction",function(){return a.salesforceCommerceAction}),n.o(a,"signalExperienceActivated")&&n.d(t,"signalExperienceActivated",function(){return a.signalExperienceActivated}),n.o(a,"signalExperienceContainerChange")&&n.d(t,"signalExperienceContainerChange",function(){return a.signalExperienceContainerChange}),n.o(a,"signalExperienceInitialLoadEnd")&&n.d(t,"signalExperienceInitialLoadEnd",function(){return a.signalExperienceInitialLoadEnd}),n.o(a,"signalExperienceLoad")&&n.d(t,"signalExperienceLoad",function(){return a.signalExperienceLoad}),n.o(a,"signalExperienceLoadFailed")&&n.d(t,"signalExperienceLoadFailed",function(){return a.signalExperienceLoadFailed}),n.o(a,"signalExperienceLoaded")&&n.d(t,"signalExperienceLoaded",function(){return a.signalExperienceLoaded}),n.o(a,"signalExperienceMouseEnter")&&n.d(t,"signalExperienceMouseEnter",function(){return a.signalExperienceMouseEnter}),n.o(a,"signalExperienceMouseLeave")&&n.d(t,"signalExperienceMouseLeave",function(){return a.signalExperienceMouseLeave}),n.o(a,"signalExperienceSceneChange")&&n.d(t,"signalExperienceSceneChange",function(){return a.signalExperienceSceneChange}),n.o(a,"signalGroupLoad")&&n.d(t,"signalGroupLoad",function(){return a.signalGroupLoad}),n.o(a,"signalGroupLoadFailed")&&n.d(t,"signalGroupLoadFailed",function(){return a.signalGroupLoadFailed}),n.o(a,"signalGroupLoaded")&&n.d(t,"signalGroupLoaded",function(){return a.signalGroupLoaded}),n.o(a,"signalTemplateLoad")&&n.d(t,"signalTemplateLoad",function(){return a.signalTemplateLoad}),n.o(a,"signalTemplateLoadFailed")&&n.d(t,"signalTemplateLoadFailed",function(){return a.signalTemplateLoadFailed}),n.o(a,"signalTemplateLoaded")&&n.d(t,"signalTemplateLoaded",function(){return a.signalTemplateLoaded}),n.o(a,"signalViewerFitInHeightAction")&&n.d(t,"signalViewerFitInHeightAction",function(){return a.signalViewerFitInHeightAction}),n.o(a,"signalViewportChange")&&n.d(t,"signalViewportChange",function(){return a.signalViewportChange}),n.o(a,"signalWidgetClick")&&n.d(t,"signalWidgetClick",function(){return a.signalWidgetClick}),n.o(a,"trackSceneNavigationAction")&&n.d(t,"trackSceneNavigationAction",function(){return a.trackSceneNavigationAction}),n.o(a,"trackSocialSharing")&&n.d(t,"trackSocialSharing",function(){return a.trackSocialSharing}),n.o(a,"trackWidgetViewAction")&&n.d(t,"trackWidgetViewAction",function(){return a.trackWidgetViewAction}),n.o(a,"triggerAnalytics")&&n.d(t,"triggerAnalytics",function(){return a.triggerAnalytics});var o=n(201);n.o(o,"JsClickAction")&&n.d(t,"JsClickAction",function(){return o.JsClickAction}),n.o(o,"SignalErrorAction")&&n.d(t,"SignalErrorAction",function(){return o.SignalErrorAction}),n.o(o,"activateExperience")&&n.d(t,"activateExperience",function(){return o.activateExperience}),n.o(o,"clickLinkAction")&&n.d(t,"clickLinkAction",function(){return o.clickLinkAction}),n.o(o,"closeLightboxAction")&&n.d(t,"closeLightboxAction",function(){return o.closeLightboxAction}),n.o(o,"customJsClickAction")&&n.d(t,"customJsClickAction",function(){return o.customJsClickAction}),n.o(o,"getNextSceneNumber")&&n.d(t,"getNextSceneNumber",function(){return o.getNextSceneNumber}),n.o(o,"imageLoadedAction")&&n.d(t,"imageLoadedAction",function(){return o.imageLoadedAction}),n.o(o,"initializeViewer")&&n.d(t,"initializeViewer",function(){return o.initializeViewer}),n.o(o,"openLightboxAction")&&n.d(t,"openLightboxAction",function(){return o.openLightboxAction}),n.o(o,"salesforceCommerceAction")&&n.d(t,"salesforceCommerceAction",function(){return o.salesforceCommerceAction}),n.o(o,"signalExperienceActivated")&&n.d(t,"signalExperienceActivated",function(){return o.signalExperienceActivated}),n.o(o,"signalExperienceContainerChange")&&n.d(t,"signalExperienceContainerChange",function(){return o.signalExperienceContainerChange}),n.o(o,"signalExperienceInitialLoadEnd")&&n.d(t,"signalExperienceInitialLoadEnd",function(){return o.signalExperienceInitialLoadEnd}),n.o(o,"signalExperienceLoad")&&n.d(t,"signalExperienceLoad",function(){return o.signalExperienceLoad}),n.o(o,"signalExperienceLoadFailed")&&n.d(t,"signalExperienceLoadFailed",function(){return o.signalExperienceLoadFailed}),n.o(o,"signalExperienceLoaded")&&n.d(t,"signalExperienceLoaded",function(){return o.signalExperienceLoaded}),n.o(o,"signalExperienceMouseEnter")&&n.d(t,"signalExperienceMouseEnter",function(){return o.signalExperienceMouseEnter}),n.o(o,"signalExperienceMouseLeave")&&n.d(t,"signalExperienceMouseLeave",function(){return o.signalExperienceMouseLeave}),n.o(o,"signalExperienceSceneChange")&&n.d(t,"signalExperienceSceneChange",function(){return o.signalExperienceSceneChange}),n.o(o,"signalGroupLoad")&&n.d(t,"signalGroupLoad",function(){return o.signalGroupLoad}),n.o(o,"signalGroupLoadFailed")&&n.d(t,"signalGroupLoadFailed",function(){return o.signalGroupLoadFailed}),n.o(o,"signalGroupLoaded")&&n.d(t,"signalGroupLoaded",function(){return o.signalGroupLoaded}),n.o(o,"signalTemplateLoad")&&n.d(t,"signalTemplateLoad",function(){return o.signalTemplateLoad}),n.o(o,"signalTemplateLoadFailed")&&n.d(t,"signalTemplateLoadFailed",function(){return o.signalTemplateLoadFailed}),n.o(o,"signalTemplateLoaded")&&n.d(t,"signalTemplateLoaded",function(){return o.signalTemplateLoaded}),n.o(o,"signalViewerFitInHeightAction")&&n.d(t,"signalViewerFitInHeightAction",function(){return o.signalViewerFitInHeightAction}),n.o(o,"signalViewportChange")&&n.d(t,"signalViewportChange",function(){return o.signalViewportChange}),n.o(o,"signalWidgetClick")&&n.d(t,"signalWidgetClick",function(){return o.signalWidgetClick}),n.o(o,"trackSceneNavigationAction")&&n.d(t,"trackSceneNavigationAction",function(){return o.trackSceneNavigationAction}),n.o(o,"trackSocialSharing")&&n.d(t,"trackSocialSharing",function(){return o.trackSocialSharing}),n.o(o,"trackWidgetViewAction")&&n.d(t,"trackWidgetViewAction",function(){return o.trackWidgetViewAction}),n.o(o,"triggerAnalytics")&&n.d(t,"triggerAnalytics",function(){return o.triggerAnalytics});var c=n(202);n.o(c,"JsClickAction")&&n.d(t,"JsClickAction",function(){return c.JsClickAction}),n.o(c,"SignalErrorAction")&&n.d(t,"SignalErrorAction",function(){return c.SignalErrorAction}),n.o(c,"activateExperience")&&n.d(t,"activateExperience",function(){return c.activateExperience}),n.o(c,"clickLinkAction")&&n.d(t,"clickLinkAction",function(){return c.clickLinkAction}),n.o(c,"closeLightboxAction")&&n.d(t,"closeLightboxAction",function(){return c.closeLightboxAction}),n.o(c,"customJsClickAction")&&n.d(t,"customJsClickAction",function(){return c.customJsClickAction}),n.o(c,"getNextSceneNumber")&&n.d(t,"getNextSceneNumber",function(){return c.getNextSceneNumber}),n.o(c,"imageLoadedAction")&&n.d(t,"imageLoadedAction",function(){return c.imageLoadedAction}),n.o(c,"initializeViewer")&&n.d(t,"initializeViewer",function(){return c.initializeViewer}),n.o(c,"openLightboxAction")&&n.d(t,"openLightboxAction",function(){return c.openLightboxAction}),n.o(c,"salesforceCommerceAction")&&n.d(t,"salesforceCommerceAction",function(){return c.salesforceCommerceAction}),n.o(c,"signalExperienceActivated")&&n.d(t,"signalExperienceActivated",function(){return c.signalExperienceActivated}),n.o(c,"signalExperienceContainerChange")&&n.d(t,"signalExperienceContainerChange",function(){return c.signalExperienceContainerChange}),n.o(c,"signalExperienceInitialLoadEnd")&&n.d(t,"signalExperienceInitialLoadEnd",function(){return c.signalExperienceInitialLoadEnd}),n.o(c,"signalExperienceLoad")&&n.d(t,"signalExperienceLoad",function(){return c.signalExperienceLoad}),n.o(c,"signalExperienceLoadFailed")&&n.d(t,"signalExperienceLoadFailed",function(){return c.signalExperienceLoadFailed}),n.o(c,"signalExperienceLoaded")&&n.d(t,"signalExperienceLoaded",function(){return c.signalExperienceLoaded}),n.o(c,"signalExperienceMouseEnter")&&n.d(t,"signalExperienceMouseEnter",function(){return c.signalExperienceMouseEnter}),n.o(c,"signalExperienceMouseLeave")&&n.d(t,"signalExperienceMouseLeave",function(){return c.signalExperienceMouseLeave}),n.o(c,"signalExperienceSceneChange")&&n.d(t,"signalExperienceSceneChange",function(){return c.signalExperienceSceneChange}),n.o(c,"signalGroupLoad")&&n.d(t,"signalGroupLoad",function(){return c.signalGroupLoad}),n.o(c,"signalGroupLoadFailed")&&n.d(t,"signalGroupLoadFailed",function(){return c.signalGroupLoadFailed}),n.o(c,"signalGroupLoaded")&&n.d(t,"signalGroupLoaded",function(){return c.signalGroupLoaded}),n.o(c,"signalTemplateLoad")&&n.d(t,"signalTemplateLoad",function(){return c.signalTemplateLoad}),n.o(c,"signalTemplateLoadFailed")&&n.d(t,"signalTemplateLoadFailed",function(){return c.signalTemplateLoadFailed}),n.o(c,"signalTemplateLoaded")&&n.d(t,"signalTemplateLoaded",function(){return c.signalTemplateLoaded}),n.o(c,"signalViewerFitInHeightAction")&&n.d(t,"signalViewerFitInHeightAction",function(){return c.signalViewerFitInHeightAction}),n.o(c,"signalViewportChange")&&n.d(t,"signalViewportChange",function(){return c.signalViewportChange}),n.o(c,"signalWidgetClick")&&n.d(t,"signalWidgetClick",function(){return c.signalWidgetClick}),n.o(c,"trackSceneNavigationAction")&&n.d(t,"trackSceneNavigationAction",function(){return c.trackSceneNavigationAction}),n.o(c,"trackSocialSharing")&&n.d(t,"trackSocialSharing",function(){return c.trackSocialSharing}),n.o(c,"trackWidgetViewAction")&&n.d(t,"trackWidgetViewAction",function(){return c.trackWidgetViewAction}),n.o(c,"triggerAnalytics")&&n.d(t,"triggerAnalytics",function(){return c.triggerAnalytics});var u=n(32);n.d(t,"JsClickAction",function(){return u.a}),n.d(t,"activateExperience",function(){return u.b}),n.d(t,"clickLinkAction",function(){return u.c}),n.d(t,"closeLightboxAction",function(){return u.d}),n.d(t,"customJsClickAction",function(){return u.e}),n.d(t,"getNextSceneNumber",function(){return u.f}),n.d(t,"imageLoadedAction",function(){return u.g}),n.d(t,"initializeViewer",function(){return u.h}),n.d(t,"openLightboxAction",function(){return u.i}),n.d(t,"salesforceCommerceAction",function(){return u.j}),n.d(t,"signalExperienceActivated",function(){return u.o}),n.d(t,"signalExperienceContainerChange",function(){return u.p}),n.d(t,"signalExperienceInitialLoadEnd",function(){return u.q}),n.d(t,"signalExperienceLoad",function(){return u.r}),n.d(t,"signalExperienceLoadFailed",function(){return u.s}),n.d(t,"signalExperienceLoaded",function(){return u.t}),n.d(t,"signalExperienceMouseEnter",function(){return u.u}),n.d(t,"signalExperienceMouseLeave",function(){return u.v}),n.d(t,"signalExperienceSceneChange",function(){return u.w}),n.d(t,"signalGroupLoad",function(){return u.x}),n.d(t,"signalGroupLoadFailed",function(){return u.y}),n.d(t,"signalGroupLoaded",function(){return u.z}),n.d(t,"signalTemplateLoad",function(){return u.B}),n.d(t,"signalTemplateLoadFailed",function(){return u.C}),n.d(t,"signalTemplateLoaded",function(){return u.D}),n.d(t,"signalViewerFitInHeightAction",function(){return u.E}),n.d(t,"signalViewportChange",function(){return u.G}),n.d(t,"signalWidgetClick",function(){return u.H}),n.d(t,"trackSceneNavigationAction",function(){return u.I}),n.d(t,"trackSocialSharing",function(){return u.J}),n.d(t,"trackWidgetViewAction",function(){return u.K}),n.d(t,"triggerAnalytics",function(){return u.L});var s=n(205);n.o(s,"SignalErrorAction")&&n.d(t,"SignalErrorAction",function(){return s.SignalErrorAction});var l=n(206);n.d(t,"SignalErrorAction",function(){return l.a});n(207),n(208),n(209)},200:function(e,t){},201:function(e,t){},202:function(e,t){},205:function(e,t){},206:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(2),r=function(e){return{type:i.ActionTypes.APPLICATION_ERROR,payload:e}}},207:function(e,t){},208:function(e,t,n){},209:function(e,t){},222:function(e,t){},235:function(e,t,n){e.exports={experienceViewer:"ExperienceViewer_experienceViewer_2hSVo CleanSlate_cleanslate_2LZA9"}},236:function(e,t,n){e.exports={shareLink:"style_shareLink_3jMj6"}},26:function(e,t,n){"use strict";var i;!function(e){e[e.FORWARDS=0]="FORWARDS",e[e.BACKWARDS=1]="BACKWARDS"}(i||(i={})),t.a=i},32:function(e,t,n){"use strict";n(36);var i=n(2),r=(n(4),{type:i.ActionTypes.VIEWER_INIT,payload:{}}),a={type:i.ActionTypes.VIEWER_INITIALIZED,payload:{}},o=function(e){e(r),e(a)},c=function(e,t,n){return{type:i.ActionTypes.VIEWER_LIGHTBOX_OPEN,payload:{lightbox:e,sceneNumber:t,widgetId:n}}},u=function(){return{type:i.ActionTypes.VIEWER_LIGHTBOX_CLOSE,payload:{}}},s=function(e,t,n){return{type:i.ActionTypes.VIEWER_CLICK_LINK,payload:{link:e,sceneNumber:t,widgetId:n}}},l=function(e,t,n){return{type:i.ActionTypes.VIEWER_JS_CLICK,payload:{js:e,sceneNumber:t,widgetId:n}}},d=function(e,t,n){return{type:i.ActionTypes.VIEWER_CUSTOM_JS_CLICK,payload:{customJs:e,sceneNumber:t,widgetId:n}}},p=function(e,t,n){return{type:i.ActionTypes.VIEWER_SALESFORCE_COMMERCE,payload:{clickAction:e,sceneNumber:t,widgetId:n}}},f=function(e,t,n){return{type:i.ActionTypes.VIEWER_SCENE_NAVIGATION,payload:{navigationAction:e,sceneNumber:t,widgetId:n}}},g=function(e,t){return{type:i.ActionTypes.VIEWER_WIDGET_VIEW,payload:{widget:e,sceneNumber:t}}};var h=function(e){return{type:i.ActionTypes.IMAGE_LOADED,payload:{image:e}}};var m=function(e,t,n,r){if(!e)return n(Object(i.SignalErrorAction)(new Error("No sharing information in action")));n(function(e,t,n){return{type:i.ActionTypes.VIEWER_SOCIAL_SHARING,payload:{share:e,sceneNumber:t,widgetId:n}}}(e,t,r))},v=function(e,t,n,r,a){return{type:i.ActionTypes.VIEWER_WIDGET_CLICK,payload:{action:n,widgetAction:r,sceneNumber:a,type:e,uuid:t}}},E=function(){return{type:i.ActionTypes.VIEWER_FIT_IN_HEIGHT,payload:{}}},y=n(122),w=function(e,t){return{type:i.ActionTypes.GROUP_LOAD,payload:{resourceId:e,withCache:t}}},b=function(e,t){return{type:i.ActionTypes.GROUP_LOADED,payload:{breakpointGroups:e,withCache:t}}},x=function(e){return{type:i.ActionTypes.GROUP_LOAD_FAILED,payload:e}},k=function(e){return{type:i.ActionTypes.COMPANY_SETTINGS_LOAD,payload:e}},I=function(e){return{type:i.ActionTypes.COMPANY_SETTINGS_LOADED,payload:e}},A=function(e){return{type:i.ActionTypes.COMPANY_SETTINGS_LOAD_FAILED,payload:e}},_=(n(203),function(e,t){var n=[e.width,t.width],r=[e.height,t.height],a=Math.min.apply(Math,n.filter(Number)),o=Math.min.apply(Math,r.filter(Number));return{type:i.ActionTypes.VIEWPORT_CHANGE,payload:{width:a,height:o}}}),O=function(e){var t=e.height,n=e.width;return{type:i.ActionTypes.EXPERIENCE_CONTAINER_CHANGE,payload:{height:t,width:n}}},T=function(e){return{type:i.ActionTypes.ANALYTICS_EVENT_QUEUED,payload:{companyId:e.companyId,experienceId:e.experienceId,experienceName:e.experienceName}}},L=function(e){return{type:i.ActionTypes.REMOVE_ANALYTICS_EVENT,payload:{companyId:e.companyId,experienceId:e.experienceId,experienceName:e.experienceName}}},S=function(e){return{type:i.ActionTypes.TRIGGER_ANALYTICS,payload:{companyId:e.companyId,experienceId:e.experienceId,experienceName:e.experienceName}}},C=function(e){return{type:i.ActionTypes.TEMPLATE_LOAD,payload:{templateId:e}}},N=function(e,t){return{type:i.ActionTypes.TEMPLATE_LOADED,payload:{model:e,templateId:t}}},R=function(e){return{type:i.ActionTypes.TEMPLATE_LOAD_FAILED,payload:e}};n.d(t,"g",function(){return h}),n.d(t,"h",function(){return o}),n.d(t,"i",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"K",function(){return g}),n.d(t,"a",function(){return l}),n.d(t,"I",function(){return f}),n.d(t,"J",function(){return m}),n.d(t,"H",function(){return v}),n.d(t,"E",function(){return E}),n.d(t,"b",function(){return y.a}),n.d(t,"o",function(){return y.c}),n.d(t,"r",function(){return y.e}),n.d(t,"t",function(){return y.g}),n.d(t,"s",function(){return y.f}),n.d(t,"q",function(){return y.d}),n.d(t,"u",function(){return y.h}),n.d(t,"v",function(){return y.i}),n.d(t,"w",function(){return y.j}),n.d(t,"F",function(){return y.k}),n.d(t,"f",function(){return y.b}),n.d(t,"x",function(){return w}),n.d(t,"z",function(){return b}),n.d(t,"y",function(){return x}),n.d(t,"l",function(){return k}),n.d(t,"n",function(){return I}),n.d(t,"m",function(){return A}),n.d(t,"G",function(){return _}),n.d(t,"p",function(){return O}),n.d(t,"k",function(){return T}),n.d(t,"A",function(){return L}),n.d(t,"L",function(){return S}),n.d(t,"B",function(){return C}),n.d(t,"D",function(){return N}),n.d(t,"C",function(){return R})},407:function(e,t,n){"use strict";n.r(t);n(18),n(248),n(262),n(269);var i,r=n(0),a=n.n(r),o=n(50),c=n(25),u=n(26),s={id:null,createdAt:0,version:0,companyId:"",pushedAt:0,pushedBy:"",pushedVersion:0,changedSinceLastPush:!1,imageViewedEventsEnabled:!1,analyticsEnabled:!0,ecommerceTrackerEnabled:!1,zsiteVanityUrlsEnabled:!1,zsiteVanityUrlMaxCount:"",zsiteNonVanityUrlMaxCount:"",heatmapsEnabled:!1,isUsingUuids:!0,textWidgetEnabled:!1,enhancedTextWidgetEnabled:!0,matomoTrackerEnabled:!1,matomoTrackerFullEnabled:!1,templateSharingEnabled:!1,cloudinaryDefaultImageProvider:!1,enableImageLQIP:!1,cloudinaryImageAndDprOverride:"",channelConfigId:"",editedAt:0,editedBy:"",segmentIoApiKey:"",googleAnalyticsId:"",matomoTrackingUrl:"",omniture:{eventMappings:{},common:{},enabled:!1},bundleStrategy:"Standard",state:"Active",breakpointEnabled:!1,breakpoints:[]};!function(e){e.Width="width",e.Height="height"}(i||(i={}));var l,d,p,f,g,h={currentSceneNumber:1,transitionDirection:u.a.FORWARDS},m={model:s},v={viewportHeight:-1,viewportWidth:-1,containerHeight:-1,containerWidth:-1},E={experiences:{},breakpointGroups:[],queuedAnalyticsEvents:[],initialLoad:!0,experienceFit:i.Width},y={viewer:E,company:{},page:v},w=(n(36),n(62)),b=n(38),x=n(231),k=n(22),I=n.n(k),A=n(8),_=n.n(A),O=n(2),T=n(102),L=Object(w.combineReducers)({company:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.ActionTypes.COMPANY_SETTINGS_LOADED:return{model:t.payload};case O.ActionTypes.TEMPLATE_LOADED:return m;default:return e}},viewer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.ActionTypes.VIEWER_INIT:return _()({},e);case O.ActionTypes.EXPERIENCE_ACTIVATE:var n=t.payload.experienceId,r=e.experiences[n];return _()({},e,{activeExperienceId:n,activeExperience:r,initialLoad:!0});case O.ActionTypes.EXPERIENCE_INITIAL_LOAD_END:return _()({},e,{initialLoad:!1});case O.ActionTypes.ANALYTICS_EVENT_QUEUED:var a=t.payload,o=!1;return e.queuedAnalyticsEvents.forEach(function(e){e.experienceId===a.experienceId&&(o=!0)}),o?_()({},e):_()({},e,{queuedAnalyticsEvents:[].concat(I()(e.queuedAnalyticsEvents),[a])});case O.ActionTypes.REMOVE_ANALYTICS_EVENT:var c=t.payload;return _()({},e,{queuedAnalyticsEvents:e.queuedAnalyticsEvents.filter(function(e){return e.experienceId!==c.experienceId})});case O.ActionTypes.EXPERIENCE_LOADED:var u=t.payload.experienceId,s=_()({},e.experiences);return s[u]=s[u]?_()({},s[u]):_()({},h,{model:t.payload.model}),_()({},e,{experiences:s});case O.ActionTypes.EXPERIENCE_SCENE_CHANGE:var l=t.payload,d=l.experienceId,p=l.sceneNumber,f=l.transitionDirection,g=_()({},e.experiences),m=g[d];return g[d]={model:m.model,currentSceneNumber:p,transitionDirection:f},_()({},e,{experiences:g});case O.ActionTypes.EXPERIENCE_LOAD_FAILED:return _()({},e,{error:t.payload.data.message});case O.ActionTypes.GROUP_LOADED:var v=t.payload.breakpointGroups;return _()({},e,{breakpointGroups:v});case O.ActionTypes.TEMPLATE_LOADED:var y=t.payload.model,w={};return w[y.id]=_()({},h,{model:y}),_()({},e,{experiences:w,activeExperienceId:y.id,activeExperience:y,initialLoad:!0});case O.ActionTypes.VIEWER_LIGHTBOX_OPEN:var b=e.experienceFit!==i.Height?t.payload.lightbox:void 0;return _()({},e,{lightbox:b});case O.ActionTypes.VIEWER_LIGHTBOX_CLOSE:return _()({},e,{lightbox:void 0});case O.ActionTypes.IMAGE_LOADED:var x=t.payload.image,k=e.loadedImages?_()({},e.loadedImages):{};return k[x.imageId]=x.width,_()({},e,{loadedImages:k});case O.ActionTypes.VIEWER_FIT_IN_HEIGHT:return _()({},e,{experienceFit:i.Height});default:return e}},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.a.VIEWPORT_CHANGE:var n=t.payload,i=n.height,r=void 0===i?-1:i,a=n.width,o=void 0===a?-1:a;return _()({},e,{viewportHeight:r,viewportWidth:o});case T.a.EXPERIENCE_CONTAINER_CHANGE:var c=t.payload,u=c.height,s=void 0===u?-1:u,l=c.width,d=void 0===l?-1:l;return _()({},e,{containerHeight:s,containerWidth:d});default:return e}}}),S=Object(b.default)(),C=[S],N=(n(128),n(175),n(33)),R=n.n(N),D=n(7),V=n.n(D),j=n(6),M=n.n(j),F=n(5),W=n.n(F),P=n(15),G=new(function(){function e(){V()(this,e),W()(this,"_providers",[])}return M()(e,[{key:"registerProvider",value:function(e){return!Object(P.find)(this._providers,function(t){return e.constructor===t.constructor})&&(this._providers.push(e),!0)}},{key:"load",value:function(e){var t=Object(P.find)(this._providers.reverse(),function(t){return t.support(e)});return t?t.load(e):R.a.reject(new Error('Unable to find FontLoaderProvider for font "'.concat(e.fontFamily,'"')))}},{key:"loadFromArray",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return R.a.all(t.map(function(t){return e.load(t)}))}},{key:"providers",get:function(){return this._providers}}]),e}()),z=n(69),U=n.n(z),H=n(165),B=n.n(H);!function(e){e.COLOR="color",e.IMAGE="Image"}(l||(l={})),function(e){e.BREAKPOINT="Breakpoint",e.LOCALIZATION="Localization"}(d||(d={})),function(e){e.BEFORE="before",e.AFTER="after"}(p||(p={})),function(e){e.TEXT_ONLY="TEXT_ONLY",e.ICON_ONLY="ICON_ONLY",e.TEXT_AND_ICON="TEXT_AND_ICON"}(f||(f={})),function(e){e.NONE="none",e.SLIDE_FROM_TOP="slide-from-top",e.SLIDE_FROM_BOTTOM="slide-from-bottom",e.SLIDE_FROM_LEFT="slide-from-left",e.SLIDE_FROM_RIGHT="slide-from-right",e.FADE="fade"}(g||(g={}));var X,q,J=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;V()(this,e),this.x=t,this.y=n}return M()(e,null,[{key:"getFrom",value:function(t,n){return new e(n.width/t.width,n.height/t.height)}}]),M()(e,[{key:"widthFactor",get:function(){return this.x}},{key:"heightFactor",get:function(){return this.y}},{key:"avereage",get:function(){return(this.x+this.y)/2}},{key:"min",get:function(){return Math.min(this.x,this.y)}},{key:"max",get:function(){return Math.max(this.x,this.y)}}]),e}();!function(e){e.LINE="line",e.SHAPE="shape",e.IMAGE="image",e.LINK="link",e.SCENE_NAVIGATOR="scene-navigator",e.EMBED="embed",e.YOUTUBE="youtube",e.SOCIAL_SHARING="social-sharing",e.TEXT="text",e.TEXT_ENHANCED="text-enhanced",e.BUTTON="button",e.COMPOSITE="composite",e.SALESFORCE_COMMERCE="demandware",e.DYNAMIC_PRODUCT="dynamic-product",e.HTML="html"}(X||(X={})),function(e){e.CUSTOM="custom",e.GOOGLE="google",e.STANDARD="standard",e.TYPEKIT="typekit",e.FONTSDOTCOM="fontsDotCom"}(q||(q={}));var Y,K,Q,Z,$,ee,te,ne,ie,re;X.COMPOSITE,new J,Function;!function(e){e.Scene7="Scene7Integration",e.Cloudinary="Cloudinary",e.Creator="Creator",e.Unknown="Unknown"}(Y||(Y={})),function(e){e.FlatSquared="flat-squared",e.FlatRounded="flat-rounded",e.Isolated="isolated",e.FlatCircle="flat-circle",e.WhiteCircle="white-circle",e.BlackCircle="black-circle"}(K||(K={})),function(e){e.Squared="Squared",e.Rounded="Rounded",e.Isolated="Isolated",e.Circle="Circle",e.White="White",e.Black="Black"}(Q||(Q={})),function(e){e.Facebook="facebook",e.Twitter="twitter",e.Linkedin="linkedin",e.Pinterest="pinterest",e.GooglePlus="googleplus"}(Z||(Z={})),function(e){e.Js="js",e.CustomJs="customJs",e.LinkAction="link",e.SocialSharing="socialSharing",e.SceneNavigation="sceneNavigation",e.Lightbox="lightbox",e.SalesforceCommerce="demandware"}($||($={})),function(e){e.SCENE7="Scene7Integration",e.ADDME="AddMe"}(ee||(ee={})),function(e){e.SLIDE="slide",e.SLIDE_OUT="slideOut",e.FADE="fade",e.FADE_OUT="fadeOut",e.ZOOM_IN="zoomIn",e.ZOOM_OUT="zoomOut",e.MOVE="move"}(te||(te={})),function(e){e.LINEAR="linear",e.EASE_IN="ease-in",e.EASE_OUT="ease-out",e.EASE_IN_OUT="ease-in-and-out",e.BOUNCE="bounce",e.ELASTIC="elastic",e.BACK_OUT="back-out"}(ne||(ne={})),function(e){e.IMAGE_TOGGLE="imageToggle",e.OPACITY="opacity",e.PULSE="pulse",e.ROTATE="rotate",e.SCALE="scale"}(ie||(ie={})),function(e){e.HOVER="hover",e.ATTENTION="attention"}(re||(re={}));var ae=n(70),oe=n.n(ae),ce=(n(60),n(344),n(103)),ue=n.n(ce),se=(n(44),n(100),n(68)),le=n.n(se),de=(n(222),Object({NODE_ENV:"production",APP_CONFIG:{cncViewFullBaseUrl:"https://cnc-api.zmags.com/view/full/",cncViewLiteBaseUrl:"https://cnc-api.zmags.com/view/lite/",adminApiBaseUrl:"https://creator-api.zmags.com",editorBaseUrl:"//creator.zmags.com",editorApiBaseUrl:"https://creator-api.zmags.com",viewerBaseUrl:"//c.zmags.com",viewerApiBaseUrl:"//c.zmags.com",cncStaticAssetsBaseUrl:"//c.zmags.com/static",cncSsrApiBaseUrl:"//c.zmags.com",viewerAliasApiBaseUrl:"//creator.zmags.com",communityBaseUrl:"https://creatorcommunity.zmags.com",errorQueueUrl:"https://c.zmags.com/queue/error/",cloudinaryBaseUrl:"https://images.creator-prod.zmags.com/image/upload",cloudinaryImageReloadBreakpoint:100,statsDUrl:"https://statsd.zmags.com/stats",salesEmail:"sales@zmags.com",supportEmail:"support@zmags.com",editorSegmentIOKey:"20jbiv8frx",matomoConfig:{trackingScriptUrl:"//c.z-analytics.net/reporting/optimize/ztracker.js",trackerUrl:"",dashboardUrl:"//auth.reporting.creator-prod.zmags.com",siteID:1},answerFileUrl:"https://static.inventory.creator-prod.zmags.com/dynamic_pricing/answer_files",enableLogging:1,logId:null,trackErrors:!0,experienceId:null,groupId:null,scene:null,statsDBucket:"creator.prod"},PORT:void 0,TARGET_ENV:"prod",VERSION_DATA:{hash:"62ba86c58a",numCommits:21358,buildDate:1597923347990,dirty:!0,name:"cnc"}})),pe=de.APP_CONFIG,fe=de.NODE_ENV,ge=de.PORT,he=de.TARGET_ENV,me=de.VERSION_DATA,ve="string"==typeof pe?JSON.parse(pe):pe,Ee={string:function(e,t){return"undefined"===t?"":e.toString()},number:function(e,t){return"boolean"===t||"undefined"===t?e?1:0:ue()(e.toString(),10)||void 0},boolean:function(e,t){return"number"===t?!!e:"undefined"!==t&&/yes|true|on/i.test(e.toString())},function:function(e){return function(){return e}}},ye=function(){function e(){V()(this,e)}return M()(e,null,[{key:"val",value:function(e,t){t&&(e=Object(P.extend)(e||{},t));var n="undefined"!=typeof window,i=e.url||n?window.location.search:"",r=!1!==e.url?function(e,t){if(e){var n,i,r,a=le()(t)?t:[t],o=e.slice(e.indexOf("?")+1).split("&");for(r=0;r<a.length;r++)for(t=a[r],i=0;i<o.length;i++)if((n=o[i].split("="))[0]===t)return n[1]}}(i,e.name):void 0,a=oe()(r);if("undefined"===a&&(null===(r=this[e.configName||e.name])&&(r=void 0),a=oe()(r)),a===e.type)return r;if(!e.type)return"undefined"===a?e.defaultValue:r;var o=e.converter||Ee[e.type],c=oe()(e.defaultValue);return o?("undefined"!==a&&(r=o(r,a)),void 0===r?c===e.type?e.defaultValue:o(e.defaultValue,c):r):c===e.type?e.defaultValue:void 0}}]),e}(),we=_()({},ve,{production:"production"===fe,port:ge||8081,targetEnv:he||"dev",version:"".concat(me.name,"-").concat(me.hash,"-").concat(me.numCommits)}),be=n(85),xe=function(){function e(){V()(this,e),W()(this,"cache",new B.a)}return M()(e,[{key:"support",value:function(e){return"undefined"!=typeof document&&e.fontProvider===q.CUSTOM}},{key:"load",value:function(e){var t=e.fontMetadata,n=!!t&&!!t.path&&!!t.format;if(this.cache.has(e.fontFamily)||!n)return R.a.resolve(e);var i=document.createElement("style");return i.setAttribute("type","text/css"),i.innerHTML='\n            @font-face {\n                font-family: "'.concat(e.fontFamily,'";\n                src: url(').concat(we.viewerApiBaseUrl,"/").concat(t.path,') format("').concat(t.format,'")\n            }\n        '),document.head.appendChild(i),this.cache.add(e.fontFamily),new R.a(function(t,n){be.load({custom:{families:['"'.concat(e.fontFamily,'"')]},fontactive:function(){return t(e)},fontinactive:function(){return n(e)}})})}}]),e}(),ke=function(){function e(){V()(this,e)}return M()(e,[{key:"support",value:function(e){return e.fontProvider===q.GOOGLE}},{key:"load",value:function(e){return new R.a(function(t,n){be.load({google:{families:["".concat(e.fontFamily,":").concat(e.fontWeight)]},fontactive:function(){return t(e)},fontinactive:function(){return n(e)}})})}}]),e}(),Ie=function(){function e(){V()(this,e)}return M()(e,[{key:"support",value:function(e){return e.fontProvider===q.STANDARD}},{key:"load",value:function(e){return new R.a(function(t,n){be.load({custom:{},fontactive:function(){return t(e)},fontinactive:function(){return n(e)}})})}}]),e}(),Ae=function(){function e(){V()(this,e),W()(this,"cache",new B.a)}return M()(e,[{key:"support",value:function(e){return e.fontProvider===q.TYPEKIT}},{key:"load",value:function(e){var t=e.fontMetadata;return this.cache.has(t.kitID)?R.a.resolve(e):(this.cache.add(t.kitID),new R.a(function(t,n){var i=e.fontMetadata;be.load({typekit:{id:i.kitID},fontactive:function(){return t(e)},fontinactive:function(){return n(e)}})}))}}]),e}(),_e=function(){function e(){V()(this,e)}return M()(e,[{key:"support",value:function(e){return e.fontProvider===q.FONTSDOTCOM}},{key:"load",value:function(t){return new R.a(function(n,i){var r=t.fontMetadata;be.load({monotype:{projectId:r.projectId,version:e._version},fontactive:function(){return n(t)},fontinactive:function(){return i(t)}})})}}]),e}();W()(_e,"_version",U()());var Oe=n(4),Te=(n(352),n(101),function(e){return null==e?"":"".concat(e)});function Le(e){return 0===(e=Te(e)).length||0===e.trim().length}function Se(e){return e=Te(e),"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))}var Ce=function e(){V()(this,e)};W()(Ce,"isBlank",Le),W()(Ce,"startsWith",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Te(e).substr(!n||n<0?0:+n,t.length)===t}),W()(Ce,"contains",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e=Te(e),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}),W()(Ce,"capitalize",Se),W()(Ce,"titleize",function(e){return Te(e).toLowerCase().replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})}),W()(Ce,"camelize",function(e){return Te(e).trim().replace(/[-_\s]+(.)?/g,function(e,t){return""!==e?t.toUpperCase():""})}),W()(Ce,"dasherize",function(e){return Te(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}),W()(Ce,"rtrim",function(e){return(e=Te(e)).replace(/\s*$/,"")}),W()(Ce,"trim",function(e){return Te(e).trim()});var Ne=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:";";V()(this,e),W()(this,"_prefix",void 0),W()(this,"_delimiter",void 0),this._prefix=t,this._delimiter=n}return M()(e,[{key:"format",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._prefix&&t.splice(0,0,this._prefix),t.filter(function(e){return!Le(e)}).join(this._delimiter)}}],[{key:"format",value:function(){return Re.format.apply(Re,arguments)}}]),e}(),Re=new Ne,De=n(11),Ve=n.n(De),je=n(10),Me=n.n(je),Fe=n(12),We=n.n(Fe),Pe=n(3),Ge=n.n(Pe),ze=n(124),Ue=n.n(ze),He=n(30),Be=n.n(He),Xe=n(80),qe=n.n(Xe),Je={},Ye=function(){function e(){V()(this,e)}return M()(e,[{key:"dispose",value:function(){}},{key:"runJs",value:function(){var e=qe()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new R.a(function(e,n){var i=document.createElement("script");document.body.appendChild(i),i.onload=e,i.onerror=n,i.async=!0,i.src=t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],[{key:"loadTrackingScript",value:function(e){var t=new R.a(function(t,n){var i=document.createElement("script");document.body.appendChild(i),i.onload=t,i.onerror=n,i.async=!0,i.src=e});if(!Je[e])return t.then(function(){Je[e]=1})}},{key:"validateEvent",value:function(e,t,n){return!Le(e)&&!Le(t)&&Object(P.isString)(n)}},{key:"sanitizeEvent",value:function(e){if(!e)throw new Error("Event cannot  be null or undefined");for(var t in e)if(Object(P.isUndefined)(e[t])||!e[t])switch(t){case"category":e[t]="UnknownCategory";break;case"action":e[t]="UnknownAction";break;case"label":e[t]="undefinedLabel";break;default:e[t]=""}}}]),e}(),Ke="Custom JavaScript action activated",Qe="Experience viewed",Ze="Click on link",$e="JavaScript action activated",et="Navigation link clicked",tt="Open lightbox",nt="Product Viewed",it="Product widget clicked",rt="Click on social shared link",at="Image_viewed",ot="viewer:lightbox:open",ct="viewer:link:visit",ut="viewer:javascript:execute",st="viewer:product:view",lt="viewer:scene:navigate",dt="viewer:social:share",pt="viewer:image:view",ft="viewer:widget:view",gt=ye.val({name:"zmagsAnalyticsDebug",type:"boolean",defaultValue:!1}),ht="//www.google-analytics.com/".concat(gt?"analytics_debug.js":"analytics.js"),mt=/UA-[0-9]+-[0-9]+/,vt=new Be.a;vt.set(Ke,!0),vt.set(Qe,!1),vt.set(Ze,!0),vt.set($e,!0),vt.set(et,!0),vt.set(tt,!0),vt.set(nt,!0),vt.set(rt,!0),vt.set(at,!1);var Et=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ne;return V()(this,t),n=Ve()(this,Me()(t).call(this,e)),W()(Ge()(Ge()(n)),"_eventLabelFormatter",void 0),n._eventLabelFormatter=i,n}return We()(t,e),M()(t,[{key:"toEventLabel",value:function(e,t,n,i,r){return this._eventLabelFormatter.format(n,i.toString(),r)}}]),t}(function(e){function t(e){var n;if(V()(this,t),n=Ve()(this,Me()(t).call(this)),W()(Ge()(Ge()(n)),"_trackingID",void 0),W()(Ge()(Ge()(n)),"_name",void 0),!mt.test(e))throw new Error("Invalid Google Analytics tracking ID: ".concat(e));return n._trackingID=e,n._name=Object(P.uniqueId)("gatracker"),n._initializeUniversal(),n}return We()(t,e),M()(t,[{key:"trackPageView",value:function(){}},{key:"trackEvent",value:function(e,t){var n={name:e,category:t.category,label:t.label};Ye.sanitizeEvent(n),this._trackEvent(t.category,n.name,t.label)}},{key:"trackExperienceEvent",value:function(e){var t={category:e.category,name:e.name,companyId:e.companyId,experienceId:e.experienceId,experienceName:e.experienceName,sceneNumber:e.sceneNumber,sceneId:e.sceneId,data:e.data};Ye.sanitizeEvent(t);var n=this.toEventLabel(t.companyId,t.experienceId,t.experienceName,t.sceneNumber,t.data);this._trackEvent(t.category,t.name,n)}},{key:"_isEventInteractive",value:function(e){return vt.get(e)}},{key:"_initializeUniversal",value:function(){Object(P.isUndefined)(window.ga)&&(window.GoogleAnalyticsObject="ga",window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=(new Date).getTime(),Ye.loadTrackingScript(ht)),window.ga("create",this._trackingID,"auto",this._createOptions())}},{key:"_createOptions",value:function(){return{name:this._name}}},{key:"_trackEvent",value:function(e,t,n){Ye.validateEvent(e,t,n)&&window.ga("".concat(this._name,".send"),"event",e,t,n,{nonInteraction:!this._isEventInteractive(t)})}},{key:"dispose",value:function(){Ue()(Me()(t.prototype),"dispose",this).call(this),window.ga("".concat(this._name,".remove"))}}]),t}(Ye)),yt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wt=function(){function e(){V()(this,e)}return M()(e,null,[{key:"now",value:function(){return U()()}},{key:"currentYear",value:function(){return(new Date).getFullYear()}},{key:"_oneDigitPrepender",value:function(e){return e<10?"0".concat(e):e}},{key:"formatYYYYMMDDHHmm",value:function(e){if(!e)return"";Object(P.isNumber)(e)&&(e=new Date(e));var t=e.getFullYear(),n=this._oneDigitPrepender(e.getMonth()+1),i=this._oneDigitPrepender(e.getDate()),r=this._oneDigitPrepender(e.getHours()),a=this._oneDigitPrepender(e.getMinutes());return"".concat(t,"-").concat(n,"-").concat(i,", ").concat(r,":").concat(a)}},{key:"diffDays",value:function(e,t){return Object(P.isNumber)(e)&&(e=new Date(e)),Object(P.isNumber)(t)&&(t=new Date(t)),Math.abs(t.getTime()-e.getTime())/864e5}},{key:"timeDifference",value:function(e,t){t||(t=0);var n=e-t;if(n<36e5){var i=Math.round(n/6e4);return i<=1?"a minute":"".concat(i," minutes")}if(n<864e5){var r=Math.round(n/36e5),a=r.toString();return a+=r>1?" hours":" hour"}if(n<2592e6){var o=Math.round(n/864e5),c=o.toString();return c+=o>1?" days":" day"}if(n<31536e6){var u=Math.round(n/2592e6),s=u.toString();return s+=u>1?" months":" month"}var l=Math.round(n/31536e6),d=l.toString();return d+=l>1?" years":" year"}},{key:"formatMMDDYYY",value:function(e){if(!e)return"";Object(P.isNumber)(e)&&(e=new Date(e));var t=e.getFullYear(),n=yt[e.getMonth()],i=this._oneDigitPrepender(e.getDate());return"".concat(n," ").concat(i,", ").concat(t)}}]),e}(),bt=function(e){function t(){return V()(this,t),Ve()(this,Me()(t).apply(this,arguments))}return We()(t,e),M()(t,[{key:"toEventLabel",value:function(e,t,n,i,r){return Ne.format(n,i.toString(),r)}}]),t}(function(e){function t(e){var n;return V()(this,t),n=Ve()(this,Me()(t).call(this)),W()(Ge()(Ge()(n)),"_iframeWindow",void 0),n._iframeWindow=t.initializeSnippet(e),n}return We()(t,e),M()(t,[{key:"_getTracker",value:function(){return this._iframeWindow.analytics}},{key:"trackPageView",value:function(){var e=this._getTracker();e&&e.pageview(window.location.href),this.trackEvent("Page View",{url:window.location.href,timestamp:wt.now().toString()})}},{key:"trackEvent",value:function(e,t){var n=this._getTracker();n&&n.track(e,t)}},{key:"trackImageViewedEvent",value:function(){}},{key:"trackExperienceEvent",value:function(e){var t=e.category,n=e.name,i=e.companyId,r=e.experienceId,a=e.experienceName,o=e.sceneNumber,c=e.data,u=n===Qe?"":o,s={category:t,label:this.toEventLabel(i,r,a,u,c)};this.trackEvent(n,s)}}],[{key:"initializeSnippet",value:function(e){var t=document.createElement("iframe");t.setAttribute("src","about:blank"),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,i=n&&n.document;i.open();var r='\n            <script type="text/javascript">\n                var analytics=analytics||[];(function(){var e=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group"],t=function(e){return function(){analytics.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var n=0;n<e.length;n++)analytics[e[n]]=t(e[n])})(),analytics.load=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+e+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)};\n                analytics.load("'.concat(e,'");\n            <\/script>\n        ');return i.write(r),i.close(),n}}]),t}(Ye)),xt=n(49),kt=n.n(xt),It=ye.val({name:"zmagsLog",configName:"enableLogging",type:"number",defaultValue:1}),At="undefined"!=typeof console&&"function"!=typeof console.info;if(!At)try{throw new Error}catch(e){At=!e.stack}var _t=function(){function e(t){V()(this,e),W()(this,"_name",void 0),this._name=t+(e.id?":".concat(e.id):"")}return M()(e,[{key:"_callPrintFunction",value:function(e,t){var n,i=["[".concat(this._name,"]")],r=new Date;(i.push("".concat(r.getHours(),":").concat(r.getMinutes(),":").concat(r.getSeconds(),":").concat(r.getMilliseconds())),i=i.concat(Array.prototype.slice.call(t)),At)?console[e](i.join(" ")):(n=console)[e].apply(n,I()(i))}},{key:"_print",value:function(e,t,n){if("undefined"!=typeof console&&It>=e){var i=this;n[0]&&n[0].promise&&Object(P.isFunction)(n[0].promise)&&1===n.length?n[0].done(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];i._callPrintFunction(t,n)}).fail(function(){i._callPrintFunction(t,["Promise failed."])}):i._callPrintFunction(t,n)}}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._print(2,"info",t)}},{key:"verbose",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._print(3,"info",t)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._print(1,"warn",t)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._print(1,"error",t)}}]),e}();W()(_t,"OFF",0),W()(_t,"ERROR",1),W()(_t,"LOG",2),W()(_t,"VERBOSE",3),W()(_t,"id",ye.val({name:["embedded","lightbox"],configName:"logId",type:"string"})),W()(_t,"level",function(e){return"number"==typeof e&&(It=e,new _t("Logger").info("Set log level: ".concat(It))),It}),_t.level(It);var Ot=n(232),Tt=n(233);function Lt(e){var t=function(e){for(var t,n=window,i=!0;n.parent&&n.parent.window&&n.parent!==n.self;)try{if(n.parent.innerWidth,e&&void 0!==(t=e(n.parent,n)))return t;n=n.parent,i=!1}catch(e){i=e;break}return i&&e&&(t=e(null,n,i)),void 0===t?n:t}();return e&&t===window.self?null:t}function St(e,t,n){var i,r;"number"==typeof n&&(t=n,n=void 0);var a,o,c=new Tt.Promise(function(e,t){i=e,r=t}),u=function(){a&&(window.clearTimeout(a),a=null)},s=function(){var t=function(e,t){var n,i,r,a,o="string"==typeof e?[e]:e;if(void 0===t&&(t=Lt(!1)),null!=t)e:for(r=0;r<o.length;r++){for(i=t,n=o[r].split("."),a=0;a<n.length;a++){try{i=i[n[a]]}catch(e){i=null}if(null==i)continue e}return i}}(e,n);return null==t||(u(),i(t),!1)};return s()&&(t=t||5e3,o=U()(),a=window.setInterval(function(){s()&&U()()-o>t&&(u(),r())},200)),c}function Ct(e){"string"==typeof e&&(e={code:e});var t=e.code,n=e.win||Lt(!1);try{if(n.eval)return n.eval(t);throw new Error("no win.eval")}catch(n){if(!e.errback)throw n;e.errback(n,t)}}var Nt=function(e){function t(){return V()(this,t),Ve()(this,Me()(t).apply(this,arguments))}return We()(t,e),M()(t,null,[{key:"toEventLabel",value:function(e,t,n,i,r){return Ne.format(e,t,i.toString(),r)}}]),t}(Ye),Rt=new _t("omnitureTracker"),Dt=1e4,Vt=function(e){function t(e){var n;if(V()(this,t),n=Ve()(this,Me()(t).call(this)),W()(Ge()(Ge()(n)),"_settings",void 0),W()(Ge()(Ge()(n)),"_s",void 0),W()(Ge()(Ge()(n)),"_queue",void 0),W()(Ge()(Ge()(n)),"_logMode",void 0),!e)throw new Error("Settings cannot be null or undefined");if(!e.enabled)throw new Error("Omniture tracker is not enabled.");n._settings=e,n._s=null,n._queue=[],n._logMode=!1;var i=function(e){n._logMode=!0,Rt.error("Could not find Omniture tracker.",e.toString())};return n._settings.reportSuite?(St("s_gi",Dt).then(function(e){n._s=e(n._settings.reportSuite),n._consumeQueue()}).catch(i),Ve()(n)):(St("s",Dt).then(function(e){n._s=e,n._consumeQueue()}).catch(i),n)}return We()(t,e),M()(t,[{key:"trackPageView",value:function(){}},{key:"_consumeQueue",value:function(){var e=this;Object(P.each)(this._queue,function(t){e.trackEvent(t.name,t.data)})}},{key:"trackEvent",value:function(e,t){this._logMode?Rt.info("Unable send event '".concat(e,"' to Omniture due to logMode being enabled.")):Object(P.isEmpty)(t)?Rt.info("No data to send to Omniture due to empty properties payload."):this._s?this._s.tl(!0,"o",e,t):this._queue.push({name:e,data:t})}},{key:"_generateData",value:function(e){var t,n=e.category,i=e.name,r=e.companyId,a=e.experienceId,o=e.experienceName,c=e.sceneNumber,u=e.sceneId,s=e.data,l={},d=this._settings.common;this._settings.eventMappings&&(t=this._settings.eventMappings[i]);var p={category:n,name:i,companyId:r,experienceId:a,experienceName:o,sceneNumber:c,sceneId:u,data:s};d&&(l=Object(P.extend)(l,d)),t&&(l=Object(P.extend)(l,t)),Object(P.each)(l,function(e,t){try{var n=Object(Ot.sprintf)(e,p);n&&(l[t]=n)}catch(e){delete l[t],Rt.info("Could not eval settings due to: ".concat(e.stack))}});var f=kt()(l);return f.length&&(l.linkTrackVars=f.join()),t&&t.events&&(l.linkTrackEvents=t.events),l}},{key:"trackExperienceEvent",value:function(e){var t=e.category,n=e.name,i=e.companyId,r=e.experienceId,a=e.experienceName,o=e.sceneNumber,c=e.sceneId,u=e.data,s=this._generateData({category:t,name:n,companyId:i,experienceId:r,experienceName:a,sceneNumber:o,sceneId:c,data:u});this.trackEvent(n,s)}}]),t}(Nt),jt=n(81),Mt=n.n(jt),Ft=function(){return"undefined"!=typeof window},Wt=function(){return Ft()&&window.navigator.userAgent.indexOf("Edge")>-1},Pt=function(){return Ft()&&(window.navigator.userAgent.indexOf("MSIE")>-1||window.navigator.userAgent.indexOf("Trident")>-1)},Gt="__zmags_zpaq",zt=function(e){function t(e){var n,i=e.siteID,r=e.trackingScriptUrl,a=e.trackerUrl,o=e.matomoTrackerFullEnabled,c=e.viewerBaseUrl;if(V()(this,t),n=Ve()(this,Me()(t).call(this)),W()(Ge()(Ge()(n)),"_trackingScriptUrl",void 0),W()(Ge()(Ge()(n)),"_iframeWindow",void 0),W()(Ge()(Ge()(n)),"_matomoTrackerFullEnabled",void 0),W()(Ge()(Ge()(n)),"_trackerUrl",void 0),W()(Ge()(Ge()(n)),"_viewerBaseUrl",void 0),!i||!r||!a)throw new Error("SiteID, TrackingScriptUrl and TrackerUrl cannot be null or undefined");n._trackerUrl=a,n._trackingScriptUrl=r,n._matomoTrackerFullEnabled=o,n._viewerBaseUrl=c;var u=document.getElementsByClassName(Gt);if(u[0]){var s=u[0];n._iframeWindow=s.contentWindow}else n._iframeWindow=t.initializeSnippet(n._trackingScriptUrl,n._matomoTrackerFullEnabled,n._trackerUrl,n._viewerBaseUrl);return n}return We()(t,e),M()(t,null,[{key:"initializeSnippet",value:function(e,t,n,i){var r=document.createElement("iframe");r.setAttribute("src","about:blank"),r.setAttribute("class",Gt),r.style.display="none",document.body.appendChild(r);var a=r.contentWindow,o=a&&a.document;o.open();var c='<script type="text/javascript">\n                (function(){\n                    // Matomo will process the array if there are events before loading\n                    window._zpaq = window._zpaq || [];\n                    window._companySettings = '.concat(Mt()({matomoTrackerFullEnabled:t,matomoTrackingUrl:n,viewerBaseUrl:i}),";\n                    var analytics = {};\n                    // If the snippet was invoked already show an error.\n                    if (analytics.invoked) {\n                      if (window.console && console.error) {\n                        console.error('Matomo snippet included twice.');\n                      }\n                      return;\n                    }\n                \n                    // Invoked flag, to make sure the snippet\n                    // is never invoked twice.\n                    analytics.invoked = true;\n        \n                    // Define a method to load Analytics.js from our CDN,\n                    // and that will be sure to only ever load it once.\n                    analytics.load = function(){\n                      // Create an async script element.\n                      var script = document.createElement('script');\n                      script.type = 'text/javascript';\n                      script.defer = true;\n                      script.src = '").concat(e,"';\n                \n                      // Insert our script next to the first script element.\n                      var first = document.getElementsByTagName('script')[0];\n                      first.parentNode.insertBefore(script, first);\n                    };\n        \n                    analytics.load();\n                    \n                  })();\n              <\/script>");return o.write(c),o.close(),a}}]),M()(t,[{key:"_getTracker",value:function(){return this._iframeWindow._zpaq}},{key:"_invokeTrackEvent",value:function(){var e=qe()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._getTracker().push(t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"trackPageView",value:function(){}},{key:"trackEvent",value:function(){}},{key:"trackWidgetViewedEvent",value:function(e){var t={category:e.category,name:e.name,companyId:e.companyId,experienceId:e.experienceId,sceneNumber:e.sceneNumber,sceneId:e.sceneId,data:e.data,widgetId:e.widgetId};this._invokeTrackEvent(t)}},{key:"trackExperienceEvent",value:function(e){var t={category:e.category,name:e.name,companyId:e.companyId,experienceId:e.experienceId,sceneNumber:e.sceneNumber,sceneId:e.sceneId,data:e.data,actionId:e.actionId,widgetId:e.widgetId};this._invokeTrackEvent(t)}}]),t}(Nt);function Ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ne;if(!e.analyticsEnabled)return[];var n=[],i=e.matomoTrackerEnabled,r=e.matomoTrackingUrl,a=e.matomoTrackerFullEnabled,o=e.isUsingUuids;we.matomoConfig&&i&&r&&o&&n.push(new zt(_()({},we.matomoConfig,{trackerUrl:r,viewerBaseUrl:we.viewerBaseUrl,matomoTrackerFullEnabled:a})));var c=e.googleAnalyticsId;c&&n.push(new Et(c,t));var u=e.segmentIoApiKey;u&&n.push(new bt(u));var s=e.omniture;return s&&s.enabled&&n.push(new Vt(s)),n}var Ht=new _t("ViewerEvents"),Bt=function(){function e(t){V()(this,e),W()(this,"_trackers",void 0),this._trackers=t}return M()(e,[{key:"getCategory",value:function(){return"Zmags experience interaction"}},{key:"_composeEventData",value:function(e){var t=e.descriptor,n=e.experienceId,i=e.experienceName,r=e.companyId,a=e.sceneId,o=e.sceneNumber,c=e.action,u=e.widgetId,s=this.getName(t,c),l=this.getParameters(t,c),d=this.getCategory();return _()({name:s,category:d,companyId:r,experienceId:n,experienceName:i,sceneId:a,sceneNumber:o,widgetId:u},l)}},{key:"dispatch",value:function(e){var t=e.descriptor,n=e.experienceId,i=e.experienceName,r=e.companyId,a=e.sceneId,o=e.sceneNumber,c=e.action,u=e.widgetId,s=this._composeEventData({descriptor:t,experienceId:n,experienceName:i,companyId:r,sceneId:a,sceneNumber:o,action:c,widgetId:u});Ht.info("Sending experience event to trackers",s.toString()),this.trackFn(s)}},{key:"trackers",set:function(e){this._trackers=e}}]),e}(),Xt=function(e){function t(e){return V()(this,t),Ve()(this,Me()(t).call(this,e))}return We()(t,e),M()(t,[{key:"getName",value:function(){return et}},{key:"getParameters",value:function(e){return e}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackExperienceEvent(e)})}}]),t}(Bt),qt=function(e){function t(e){return V()(this,t),Ve()(this,Me()(t).call(this,e))}return We()(t,e),M()(t,[{key:"getName",value:function(){return nt}},{key:"getParameters",value:function(e){return{data:"".concat(this.getName(),"-").concat(e.productId),actionId:e.actionId,widgetId:e.widgetId}}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackExperienceEvent(e)})}}]),t}(Bt),Jt=function(e){function t(e){return V()(this,t),Ve()(this,Me()(t).call(this,e))}return We()(t,e),M()(t,[{key:"getName",value:function(){return at}},{key:"getParameters",value:function(e){var t=e.imageId,n=e.data,i=e.sourceType,r=t;return i&&(r="".concat(i,"-").concat(t)),{imageId:r,data:n}}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackImageViewedEvent&&t.trackImageViewedEvent(e)})}}]),t}(Bt),Yt=function(e){function t(e){return V()(this,t),Ve()(this,Me()(t).call(this,e))}return We()(t,e),M()(t,[{key:"getName",value:function(e){switch("string"==typeof e.data?e.data:e.data.type){case"button":return"Button Widget Viewed";case"demandware":return"SFCC Widget Viewed";case"embed":return"Embed Widget Viewed";case"image":return"Image Widget Viewed";case"line":return"Line Widget Viewed";case"link":return"Link Widget Viewed";case"next-scene":return"Next Scene Widget Viewed";case"previous-scene":return"Previous Scene Widget Viewed";case"scene-navigator":return"Scene Navigator Widget Viewed";case"shape":return"Shape Widget Viewed";case"social-sharing":return"Social Sharing Widget Viewed";case"text":return"Text Widget Viewed";case"youtube":return"Youtube Widget Viewed";case"ProductWidget":return"Product Widget Viewed"}}},{key:"getParameters",value:function(e){return e}},{key:"getCategory",value:function(){return"Zmags Widget View"}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackWidgetViewedEvent&&t.trackWidgetViewedEvent(e)})}}]),t}(Bt),Kt=function(e){function t(e){return V()(this,t),Ve()(this,Me()(t).call(this,e))}return We()(t,e),M()(t,[{key:"getName",value:function(){return rt}},{key:"getParameters",value:function(e){return{data:{context:e.context,url:e.url,widgetId:e.widgetId}}}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackExperienceEvent(e)})}}]),t}(Bt),Qt=function(e){function t(e){return V()(this,t),Ve()(this,Me()(t).call(this,e))}return We()(t,e),M()(t,[{key:"getName",value:function(){return Ze}},{key:"getParameters",value:function(e){return{data:e.url,actionId:e.actionId,widgetId:e.widgetId}}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackExperienceEvent(e)})}}]),t}(Bt),Zt=function(e){function t(e){return V()(this,t),Ve()(this,Me()(t).call(this,e))}return We()(t,e),M()(t,[{key:"getName",value:function(){return tt}},{key:"getParameters",value:function(e){return e}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackExperienceEvent(e)})}}]),t}(Bt),$t=function(e){function t(e){return V()(this,t),Ve()(this,Me()(t).call(this,e))}return We()(t,e),M()(t,[{key:"getName",value:function(){return $e}},{key:"getParameters",value:function(e){return e}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackExperienceEvent(e)})}}]),t}(Bt),en=function(e){function t(e){return V()(this,t),Ve()(this,Me()(t).call(this,e))}return We()(t,e),M()(t,[{key:"getName",value:function(){return Ke}},{key:"getParameters",value:function(e){return e}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackExperienceEvent(e)})}}]),t}(Bt),tn=function(e){function t(e){return V()(this,t),Ve()(this,Me()(t).call(this,e))}return We()(t,e),M()(t,[{key:"getName",value:function(){return Qe}},{key:"getParameters",value:function(){return{data:null}}},{key:"_composeEventData",value:function(e){var n=e.descriptor,i=e.experienceId,r=e.experienceName,a=e.companyId;e.sceneId,e.sceneNumber,e.action;return Ue()(Me()(t.prototype),"_composeEventData",this).call(this,{descriptor:n,experienceId:i,experienceName:r,companyId:a})}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackExperienceEvent(e)})}}]),t}(Bt),nn=function(e){function t(e){return V()(this,t),Ve()(this,Me()(t).call(this,e))}return We()(t,e),M()(t,[{key:"getName",value:function(){return it}},{key:"getParameters",value:function(e){return{data:"".concat(this.getName(),"-").concat(e.productId)}}},{key:"trackFn",value:function(e){this._trackers.forEach(function(t){t.trackExperienceEvent(e)})}}]),t}(Bt);function rn(e,t,n,i){var r=t.experienceId,a=t.companyId,o=t.experienceName,c=t.descriptor,u=t.sceneId,s=t.sceneNumber,l=t.action,d=t.widgetId,p=null;switch(e){case $e:case Ke:case ut:p=l&&"js"===l.type?new $t(i):new en(i);break;case Qe:p=new tn(i);break;case it:p=new nn(i);break;case nt:case st:p=new qt(i);break;case tt:case ot:p=new Zt(i);break;case Ze:case ct:p=new Qt(i);break;case et:case lt:p=new Xt(i);break;case rt:case dt:p=new Kt(i);break;case at:case pt:n&&(p=new Jt(i));break;case ft:p=new Yt(i)}if(p){var f={descriptor:c,companyId:a,experienceId:r,experienceName:o,sceneId:u,sceneNumber:s,widgetId:d};p.dispatch(f)}}var an,on=n(32),cn={info:function(){},verbose:function(){}},un=function(e,t){return regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return cn.verbose("Setting up watcher for ".concat(e)),n.next=3,Object(Oe.take)(e);case 3:i=n.sent;case 4:if(i===b.END){n.next=12;break}return n.next=7,Object(Oe.call)(t,i);case 7:return n.next=9,Object(Oe.take)(e);case 9:i=n.sent,n.next=4;break;case 12:case"end":return n.stop()}},n,this)})},sn=[],ln=function(e,t,n,i,r,a){return{companyId:e,experienceId:t,descriptor:i,sceneNumber:n,experienceName:r,widgetId:a}},dn=regeneratorRuntime.mark(function e(t){var n,i,r,a,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.select)(function(e){return e.company.model});case 2:return n=e.sent,e.next=5,Object(Oe.select)(function(e){return e.viewer.activeExperienceId});case 5:i=e.sent,r=t.payload,a=r.widget,o=r.sceneNumber,n&&(c=ln(n.companyId,i,o,{data:a.properties,widgetId:a.properties.uuid}),rn(ft,c,n.imageViewedEventsEnabled,sn));case 8:case"end":return e.stop()}},e,this)}),pn=regeneratorRuntime.mark(function e(t){var n,i,r,a,o,c,u,s,l,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.select)(function(e){return e.company.model});case 2:return n=e.sent,r=(i=n||{}).companyId,a=void 0===r?"":r,o=i.imageViewedEventsEnabled,c=void 0!==o&&o,e.next=6,Object(Oe.select)(function(e){return e.viewer.activeExperienceId});case 6:u=e.sent,s=t.payload,l=s.navigationAction,d=s.sceneNumber,p=s.widgetId,rn(et,ln(a,u,d,{actionId:l.id,widgetId:p}),c,sn);case 9:case"end":return e.stop()}},e,this)}),fn=regeneratorRuntime.mark(function e(t){var n,i,r,a,o,c,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.select)(function(e){return e.company.model});case 2:return n=e.sent,e.next=5,Object(Oe.select)(function(e){return e.viewer.activeExperienceId});case 5:return i=e.sent,e.next=8,Object(Oe.select)(function(e){return e.viewer.experiences[i]});case 8:r=e.sent,a=t.payload,o=a.link,c=a.sceneNumber,u=a.widgetId,(s=ln(n.companyId,i,c,{actionId:o.id,url:o.url,widgetId:u},r.model.name)).descriptor.url=t.payload.link.url,rn(Ze,s,n.imageViewedEventsEnabled,sn);case 13:case"end":return e.stop()}},e,this)}),gn=regeneratorRuntime.mark(function e(t){var n,i,r,a,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.select)(function(e){return e.company.model});case 2:return n=e.sent,e.next=5,Object(Oe.select)(function(e){return e.viewer.activeExperienceId});case 5:i=e.sent,r=t.payload,a=r.js,o=r.sceneNumber,c=r.widgetId,rn(Ke,ln(n.companyId,i,o,{actionId:a.id,widgetId:c}),n.imageViewedEventsEnabled,sn);case 8:case"end":return e.stop()}},e,this)}),hn=regeneratorRuntime.mark(function e(t){var n,i,r,a,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.select)(function(e){return e.company.model});case 2:return n=e.sent,e.next=5,Object(Oe.select)(function(e){return e.viewer.activeExperienceId});case 5:i=e.sent,r=t.payload,a=r.customJs,o=r.sceneNumber,c=r.widgetId,rn(Ke,ln(n.companyId,i,o,{actionId:a.id,data:{name:a.name},widgetId:c}),n.imageViewedEventsEnabled,sn);case 8:case"end":return e.stop()}},e,this)}),mn=regeneratorRuntime.mark(function e(t){var n,i,r,a,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.select)(function(e){return e.company.model});case 2:return n=e.sent,e.next=5,Object(Oe.select)(function(e){return e.viewer.activeExperienceId});case 5:i=e.sent,r=t.payload,a=r.clickAction,o=r.widgetId,c=a.sceneNumber,rn(nt,ln(n.companyId,i,c,{actionId:a.id,productId:a.productID,widgetId:o}),n.imageViewedEventsEnabled,sn);case 9:case"end":return e.stop()}},e,this)}),vn=regeneratorRuntime.mark(function e(t){var n,i,r,a,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.select)(function(e){return e.company.model});case 2:return n=e.sent,e.next=5,Object(Oe.select)(function(e){return e.viewer.activeExperienceId});case 5:i=e.sent,r=t.payload,a=r.productId,o=r.sceneNumber,c=r.widgetId,rn(it,ln(n.companyId,i,o,{productId:a,widgetId:c}),n.imageViewedEventsEnabled,sn);case 8:case"end":return e.stop()}},e,this)}),En=regeneratorRuntime.mark(function e(t){var n,i,r,a,o,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.select)(function(e){return e.company.model});case 2:return n=e.sent,e.next=5,Object(Oe.select)(function(e){return e.viewer.activeExperienceId});case 5:i=e.sent,r=t.payload,a=r.share,o=r.sceneNumber,c=r.widgetId,u=ln(n.companyId,i,o,{url:a.url,widgetId:c},null,c),rn(rt,u,n.imageViewedEventsEnabled,sn);case 9:case"end":return e.stop()}},e,this)}),yn=regeneratorRuntime.mark(function e(t){var n,i,r,a,o,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,i=n.lightbox,r=n.sceneNumber,a=n.widgetId,e.next=3,Object(Oe.select)(function(e){return e.company.model});case 3:return o=e.sent,e.next=6,Object(Oe.select)(function(e){return e.viewer.activeExperienceId});case 6:c=e.sent,u=ln(o.companyId,c,r,{actionId:i.id,url:i.url,widgetId:a}),rn(tt,u,o.imageViewedEventsEnabled,sn);case 9:case"end":return e.stop()}},e,this)}),wn=regeneratorRuntime.mark(function e(t){var n,i,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.select)(function(e){return e.company.model});case 2:if(!e.sent){e.next=10;break}return n=t.payload,i=n.companyId,r=n.experienceId,a=n.experienceName,rn(Qe,{experienceId:r,companyId:i,experienceName:a},!1,sn),e.next=8,Object(Oe.put)(Object(on.A)(t.payload));case 8:e.next=12;break;case 10:return e.next=12,Object(Oe.put)(Object(on.k)(t.payload));case 12:case"end":return e.stop()}},e,this)}),bn=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return sn=Ut(t.payload),e.next=3,Object(Oe.select)(function(e){return e.viewer.queuedAnalyticsEvents});case 3:return n=e.sent,e.next=6,Object(Oe.all)(I()(n.map(function(e){return Object(Oe.put)(Object(on.L)(e))})));case 6:case"end":return e.stop()}},e,this)}),xn=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.select)(function(e){return e.company.model});case 2:if(!(t=e.sent)){e.next=10;break}return sn=Ut(t),e.next=7,Object(Oe.select)(function(e){return e.viewer.queuedAnalyticsEvents});case 7:return n=e.sent,e.next=10,Object(Oe.all)(I()(n.map(function(e){return Object(Oe.put)(Object(on.L)(e))})));case 10:case"end":return e.stop()}},e,this)}),kn=un(O.ActionTypes.TRIGGER_ANALYTICS,wn),In=un(O.ActionTypes.COMPANY_SETTINGS_LOADED,bn),An=un(O.ActionTypes.VIEWER_LIGHTBOX_OPEN,yn),_n=un(O.ActionTypes.VIEWER_CLICK_LINK,fn),On=un(O.ActionTypes.VIEWER_SCENE_NAVIGATION,pn),Tn=un(O.ActionTypes.VIEWER_SOCIAL_SHARING,En),Ln=un(O.ActionTypes.VIEWER_CUSTOM_JS_CLICK,hn),Sn=un(O.ActionTypes.VIEWER_JS_CLICK,gn),Cn=un(O.ActionTypes.VIEWER_SALESFORCE_COMMERCE,mn),Nn=un(O.ActionTypes.VIEWER_SALESFORCE_WIDGET,vn),Rn=un(O.ActionTypes.VIEWER_WIDGET_VIEW,dn),Dn=(n(375),function(){var e=qe()(regeneratorRuntime.mark(function e(t){var n,i,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},cn.verbose("Making API Request to ".concat(t," with options ").concat(Mt()(n))),e.next=4,fetch(t,n);case 4:if(!(i=e.sent).ok){e.next=7;break}return e.abrupt("return",i.json());case 7:throw i;case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());function Vn(e){return"undefined"!=typeof window&&window[e]}function jn(e,t){if(t&&Vn(t)&&window[t].getItem(e))return JSON.parse(window[t].getItem(e));if(!t){if(Vn(an.local)&&window[an.local].getItem(e))return JSON.parse(window[an.local].getItem(e));if(Vn(an.session)&&window[an.session].getItem(e))return JSON.parse(window[an.session].getItem(e))}return null}!function(e){e.local="localStorage",e.session="sessionStorage"}(an||(an={}));var Mn,Fn="".concat(we.viewerApiBaseUrl,"/api"),Wn="".concat(we.editorApiBaseUrl,"/api"),Pn="".concat(we.answerFileUrl),Gn={headers:new Headers},zn=function(e,t){return"".concat(Fn,"/").concat(e,"/").concat(t)},Un=function(e,t){return"".concat(Wn,"/").concat(e,"/").concat(t)},Hn=function(e){return e?Un:zn},Bn=function(e){var t=_()({},Gn);return e&&t.headers.set("Authorization","Bearer ".concat(e)),t},Xn=function(){return jn("zmags_login")?jn("zmags_login").token:null},qn=function(e){var t=Xn(),n=Hn(t),i=Bn(t);return Dn(n("experiences_uncached",e),i)},Jn=function(e){var t=Xn(),n=Hn(t),i=Bn(t);return Dn(n("experiences",e),i)},Yn=function(e){var t=Xn(),n=Hn(t),i=Bn(t);return Dn(n("groups",e),i)},Kn=function(e){var t=Xn(),n=Hn(t),i=Bn(t);return Dn(n("templates",e),i)},Qn=function(e){var t=Xn(),n=Bn(t);return Dn(function(e,t,n,i){return i?"".concat(Un(e,t),"/").concat(n):"".concat(zn(e,t),"/").concat(n)}("companies",e,"settings",t),n)},Zn=function(e,t){return Dn("".concat(Pn,"/").concat(t,"/").concat(e,".json"),Gn)};!function(e){e.Image="Image",e.Price="Price",e.Title="Title",e.Description="Description"}(Mn||(Mn={}));var $n=function(e,t,n){return _()({},e,{widgets:e.widgets.map(function(e){return e.type===X.DYNAMIC_PRODUCT?ei(e,t,n):e})})},ei=function(e,t,n){var i=e.productID,r=n.products[i],a=r.description,o=r.priceValue,c=r.title,u=oi(t),s=new Be.a;s.set(Mn.Description,a),s.set(Mn.Price,"".concat(u).concat(o)),s.set(Mn.Title,c);var l=e.group.map(function(e){return e.type===X.TEXT?ti(e,s):e});return _()({},e,{group:l})},ti=function(e,t){return t.get(e.subtype)&&e.isDynamic?_()({},e,{text:t.get(e.subtype)}):e},ni=function(e){var t=!1;return e.widgets.forEach(function(e){e.type===X.DYNAMIC_PRODUCT&&(t=!0)}),t},ii=function(e){var t=!1;return e.scenes.forEach(function(e){t=t||ni(e)}),t=(t=t||ni(e.overlayScene))||ni(e.backgroundScene)},ri=function(e,t){var n=e,i=e.overlayScene,r=e.backgroundScene,a=e.language;return t&&(n=_()({},e,{scenes:e.scenes.map(function(e){return $n(e,a,t)}),overlayScene:$n(i,a,t),backgroundScene:$n(r,a,t)})),n},ai=new Be.a([["en-US","$"]]),oi=function(e){if(ai.has(e))return ai.get(e);throw new Error("Unsupported Language for Product Widget")},ci=regeneratorRuntime.mark(function e(t){var n,i,r,a,o,c,u,s,l,d,p,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,i=n.experienceId,r=n.withCache,a=n.disableGroups,o=null,o=null==r||r,e.prev=3,!i){e.next=35;break}return e.next=7,Object(Oe.select)(function(e){return e.viewer});case 7:if(c=e.sent,u=c.experiences[i],s=u&&u.model,u&&u.model){e.next=26;break}return e.prev=11,l=o?Jn:qn,e.next=15,Object(Oe.call)(l,i);case 15:return d=e.sent,e.next=18,ui(i,d);case 18:s=e.sent,e.next=26;break;case 21:return e.prev=21,e.t0=e.catch(11),p=new Error("Experience Not Found"),e.next=26,Object(Oe.put)(Object(O.signalExperienceLoadFailed)(p,i));case 26:if(!s.group||a){e.next=29;break}return e.next=29,Object(Oe.put)(Object(O.signalGroupLoad)(s.group.resourceId));case 29:return e.next=31,Object(Oe.put)(Object(O.triggerAnalytics)({companyId:s.companyId,experienceId:s.id,experienceName:s.name}));case 31:return e.next=33,Object(Oe.put)(Object(O.signalExperienceLoaded)(s));case 33:e.next=38;break;case 35:return f=new Error("Missing Experience ID"),e.next=38,Object(Oe.put)(Object(O.signalExperienceLoadFailed)(f,i));case 38:e.next=44;break;case 40:return e.prev=40,e.t1=e.catch(3),e.next=44,Object(Oe.put)(Object(O.signalExperienceLoadFailed)(e.t1,i));case 44:case"end":return e.stop()}},e,this,[[3,40],[11,21]])}),ui=regeneratorRuntime.mark(function e(t,n){var i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null,!ii(n)){e.next=12;break}return e.prev=2,e.next=5,Object(Oe.call)(Zn,t,n.companyId);case 5:i=e.sent,r=!0,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),r=!1;case 12:if(!r){e.next=16;break}return e.abrupt("return",ri(n,i));case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}},e,this,[[2,9]])}),si=un(O.ActionTypes.EXPERIENCE_LOAD,ci),li=regeneratorRuntime.mark(function e(t){var n,i,r,a,o,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,i=n.resourceId,r=n.withCache,!i){e.next=15;break}return e.next=4,Object(Oe.select)(function(e){return e.viewer.breakpointGroups});case 4:if(a=e.sent,(o=a||new Array(0)).length){e.next=11;break}return e.next=9,Object(Oe.call)(Yn,i);case 9:c=e.sent,o=c.entries.filter(function(e){return e.type===d.BREAKPOINT&&!!e.value}).map(function(e){return{threshold:e.value&&e.value.threshold||0,resourceId:e.reference.resourceId,type:e.type}});case 11:return e.next=13,Object(Oe.put)(Object(O.signalGroupLoaded)(o,r));case 13:e.next=18;break;case 15:return u=new Error("Missing ResourceId"),e.next=18,Object(Oe.put)(Object(O.signalGroupLoadFailed)(u));case 18:case"end":return e.stop()}},e,this)}),di=un(O.ActionTypes.GROUP_LOAD,li),pi=regeneratorRuntime.mark(function e(t){var n,i,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.payload.templateId)){e.next=10;break}return e.next=4,Object(Oe.call)(Kn,n);case 4:return i=e.sent,r=i.content,e.next=8,Object(Oe.put)(Object(O.signalTemplateLoaded)(r,n));case 8:e.next=13;break;case 10:return a=new Error("Missing ResourceId"),e.next=13,Object(Oe.put)(Object(O.signalTemplateLoadFailed)(a));case 13:case"end":return e.stop()}},e,this)}),fi=un(O.ActionTypes.TEMPLATE_LOAD,pi),gi=regeneratorRuntime.mark(function e(t){var n,i,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,i=n.experienceId,r=n.withCache,a=n.disableGroups,e.next=3,Object(Oe.spawn)(vi,i);case 3:return e.next=5,Object(Oe.put)(Object(O.signalExperienceLoad)(i,a,r));case 5:case"end":return e.stop()}},e,this)}),hi=un(O.ActionTypes.EXPERIENCE_ACTIVATE,gi),mi=regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.model,i={width:n.width,height:n.height},e.next=4,Object(Oe.put)(Object(O.signalViewportChange)(i,i));case 4:return e.next=6,Object(Oe.put)(Object(O.signalExperienceContainerChange)(i));case 6:return e.next=8,Object(Oe.put)(b.END);case 8:case"end":return e.stop()}},e,this)}),vi=(un(O.ActionTypes.EXPERIENCE_ACTIVATED,mi),regeneratorRuntime.mark(function e(t){var n,i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n="";case 1:if(t===n){e.next=18;break}return e.next=4,Object(Oe.race)({success:Object(Oe.take)(O.ActionTypes.EXPERIENCE_LOADED),fail:Object(Oe.take)(O.ActionTypes.EXPERIENCE_LOAD_FAILED)});case 4:if(i=e.sent,r=i.success?i.success.payload:i.fail.payload,(n=r.experienceId)!==t){e.next=14;break}return e.next=10,Object(Oe.select)(function(e){return e.viewer});case 10:if(e.sent.activeExperienceId!==t){e.next=14;break}return e.next=14,Object(Oe.put)(Object(O.signalExperienceActivated)(t,r.model));case 14:if(i!==b.END){e.next=16;break}return e.abrupt("break",18);case 16:e.next=1;break;case 18:case"end":return e.stop()}},e,this)})),Ei=regeneratorRuntime.mark(function e(t,n){var i,r,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(Oe.race)({change:Object(Oe.take)(O.ActionTypes.EXPERIENCE_SCENE_CHANGE),activated:Object(Oe.take)(O.ActionTypes.EXPERIENCE_ACTIVATED),pause:Object(Oe.take)(O.ActionTypes.EXPERIENCE_MOUSE_ENTER),trigger:Object(b.delay)(t)});case 2:if(!(i=o.sent).change&&!i.activated){o.next=7;break}return o.abrupt("return");case 7:if(!i.pause){o.next=16;break}return o.next=10,Object(Oe.race)({leave:Object(Oe.take)(O.ActionTypes.EXPERIENCE_MOUSE_LEAVE),change:Object(Oe.take)(O.ActionTypes.EXPERIENCE_SCENE_CHANGE)});case 10:if(!o.sent.leave){o.next=14;break}return o.next=14,Object(Oe.spawn)(e,t,n);case 14:o.next=25;break;case 16:if(!i.trigger){o.next=25;break}return o.next=19,Object(Oe.select)(function(e){return e.viewer.experiences[n]});case 19:return r=o.sent,a=Object(O.getNextSceneNumber)(u.a.FORWARDS,r),o.next=23,Object(Oe.put)(Object(O.signalExperienceSceneChange)(n,a,u.a.FORWARDS));case 23:return o.next=25,Object(Oe.spawn)(e,t,n);case 25:case"end":return o.stop()}},e,this)}),yi=regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=t.payload.model).scenes.length>1&&!1==!!window.ZMAGS_DisableAnimations)){e.next=6;break}if(!((i=n.autoPlayDelay)>0)){e.next=6;break}return e.next=6,Object(Oe.spawn)(Ei,i,n.id);case 6:case"end":return e.stop()}},e,this)}),wi=un(O.ActionTypes.EXPERIENCE_ACTIVATED,yi),bi=un(O.ActionTypes.TEMPLATE_LOADED,yi),xi=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.delay)(0);case 2:return e.next=4,Object(Oe.put)(Object(O.signalExperienceInitialLoadEnd)());case 4:case"end":return e.stop()}},e,this)}),ki=un(O.ActionTypes.EXPERIENCE_ACTIVATED,xi),Ii=un(O.ActionTypes.TEMPLATE_LOADED,xi),Ai=regeneratorRuntime.mark(function e(){var t,n,i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.take)(O.ActionTypes.EXPERIENCE_LOADED);case 2:return t=e.sent,e.next=5,Object(Oe.select)(function(e){return e.company});case 5:if((n=e.sent).model&&null!==!n.model.id){e.next=22;break}return i=t.payload.model.companyId,e.next=10,Object(Oe.put)(Object(on.l)(i));case 10:return e.prev=10,e.next=13,Object(Oe.call)(Qn,i);case 13:return r=e.sent,e.next=16,Object(Oe.put)(Object(on.n)(r));case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(10),e.next=22,Object(Oe.put)(Object(on.m)(e.t0));case 22:case"end":return e.stop()}},e,this,[[10,18]])}),_i=(n(224),n(234)),Oi=n.n(_i);n(378);function Ti(){switch(!0){case!!navigator.platform.match(/iPhone|iPod|iPad/):return"IOS"}return null}var Li=regeneratorRuntime.mark(Ni),Si=regeneratorRuntime.mark(Ri),Ci=320;function Ni(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.fork)(Oi.a,"device-orientation-observer",["resize",{passive:!0}],{onEvent:Ri});case 2:case"end":return e.stop()}},Li,this)}function Ri(e,t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target,"IOS"!==Ti()){e.next=4;break}return e.next=4,Object(b.delay)(Ci);case 4:return e.next=6,Object(Oe.put)(Object(O.signalViewportChange)({height:n.innerHeight,width:n.innerWidth},{height:n.outerHeight,width:n.outerWidth}));case 6:case"end":return e.stop()}},Si,this)}var Di=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.takeLatest)(O.ActionTypes.VIEWPORT_CHANGE,ji);case 2:case"end":return e.stop()}},e,this)}),Vi=regeneratorRuntime.mark(function e(t,n,i){var r,a,o,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=11;break}return r=n.sort(function(e,t){return t.threshold-e.threshold}),a=r.filter(function(e){return e.threshold<=t}),o=a.length>0?a:r,c=o[0].resourceId,e.next=7,Object(Oe.select)(function(e){return e.viewer.activeExperienceId});case 7:if(u=e.sent,c===u){e.next=11;break}return e.next=11,Object(Oe.put)(Object(on.b)(c,!1,i));case 11:case"end":return e.stop()}},e,this)}),ji=regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.width,e.next=3,Object(Oe.select)(function(e){return kt()(e.viewer.breakpointGroups).map(function(t){return e.viewer.breakpointGroups[t]})});case 3:return i=e.sent,e.next=6,Vi(n,i);case 6:case"end":return e.stop()}},e,this)}),Mi=regeneratorRuntime.mark(function e(t){var n,i,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,i=n.breakpointGroups,r=n.withCache,e.next=3,Object(Oe.select)(function(e){return e.page.viewportWidth});case 3:return a=e.sent,e.next=6,Vi(a,i,r);case 6:case"end":return e.stop()}},e,this)}),Fi=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.takeLatest)(O.ActionTypes.GROUP_LOADED,Mi);case 2:case"end":return e.stop()}},e,this)}),Wi=(n(203),n(379),function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t)for(var i=kt()(t),r=0;r<i.length;r++){var a=i[r],o=t[a];if(Le(o=null==o?"":o.toString())&&!n)return"";e=e.replace(new RegExp("#{"+a+"}","g"),o)}return e}),Pi=/([^a-zA-Z0-9_\- ])/,Gi=/([^a-zA-Z0-9_.*+\-:\/\\=?#&])/,zi=function(e,t){try{t&&Object(P.each)(t,function(e,t){var n=function(e,t){var n=Pi.exec(e);return n?"Invalid parameter name: '".concat(n[1],"' in '").concat(e,"'"):Le(e)?"Parameter name cannot be empty":t&&(n=Gi.exec(t))?"Invalid parameter value: '".concat(n[1],"' in ").concat(t):null}(t,e);if(n)throw n});var n=Wi(e,t);try{new Function(n)}catch(e){throw new Error(e)}if(JSON.parse(Mt()({code:n})).code!==n)throw new Error("Code cannot be serialized to/from json.");return null}catch(e){return e}},Ui={type:$.CustomJs},Hi=function(e){var t;e.data&&(t=e.data).isTrusted&&Ct(t.code)},Bi=function(){return window.location!==window.top.location},Xi=function(e){window.top.postMessage({code:e,isTrusted:!0},"*")},qi=function(){function e(){V()(this,e)}return M()(e,null,[{key:"openQuickView",value:function(t){var n=t.productID,i=t.experienceName,r=t.currentScene,a=window.top;this._isIframed()?a.postMessage({ZMAGS_QuickView:!0,quickViewPayload:t},"*"):e._standardQuickViewExists()?e._openStandardQuickView(n,i,r):e._customQuickViewExists()&&e._openCustomQuickView(n,i,r)}},{key:"_parseMessage",value:function(t){if(t.data.ZMAGS_QuickView){var n=t.data.quickViewPayload;e.openQuickView(n)}}},{key:"_isIframed",value:function(){var e=window.top;return window.location!==e.location}},{key:"_acceptQuickViewFromChildren",value:function(){var t=window.top;this._isIframed()||t.ZMAGS_QuickViewRegistered||(t.addEventListener("message",e._parseMessage),t.ZMAGS_QuickViewRegistered=!0)}},{key:"_standardQuickViewExists",value:function(){return void 0!==window.top.app&&void 0!==window.top.app.quickView&&"function"==typeof window.top.app.quickView.show}},{key:"_customQuickViewExists",value:function(){return void 0!==window.top.__zmags&&void 0!==window.top.__zmags.demandware&&void 0!==window.top.__zmags.demandware.quickview&&"function"==typeof window.top.__zmags.demandware.quickview.show}}]),e}();W()(qi,"_formatParameters",function(e,t,n){return t=encodeURIComponent(t),"?format=ajax&zmagssrc=creator&experienceName=".concat(t,"&experienceScene=").concat(n,"&pid=").concat(e)}),W()(qi,"_openStandardQuickView",function(e,t,n){var i=window.top,r=i.app.urls.getProductUrl+qi._formatParameters(e,t,n);i.app.quickView.show({source:"quickview",url:r})}),W()(qi,"_openCustomQuickView",function(e,t,n){var i=window.top,r=i.Urls.getProductUrl+qi._formatParameters(e,t,n);i.__zmags.demandware.quickview.show({source:"quickview",url:r})});var Ji=we.cncViewLiteBaseUrl,Yi=function(e){var t=e.split("#"),n=t[t.length-1];return t.length>1?"".concat(Ji).concat(n):e},Ki=regeneratorRuntime.mark($i),Qi=regeneratorRuntime.mark(function e(t){var n,i,r,a,o,c,s,l,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,i=n.action,r=n.widgetAction,a=n.sceneNumber,o=n.uuid,!i||!r){e.next=56;break}e.t0=i.type,e.next=e.t0===$.LinkAction?5:e.t0===$.SalesforceCommerce?8:e.t0===$.Lightbox?12:e.t0===$.SceneNavigation?20:e.t0===$.Js?40:e.t0===$.CustomJs?44:55;break;case 5:return e.next=7,Object(Oe.put)(Object(O.clickLinkAction)(i,a,o));case 7:return e.abrupt("break",56);case 8:return qi.openQuickView({productID:i.productID,currentScene:a}),e.next=11,Object(Oe.put)(Object(O.salesforceCommerceAction)(i,a,o));case 11:return e.abrupt("break",56);case 12:if(i.url){e.next=16;break}return e.next=15,Object(Oe.put)(Object(O.SignalErrorAction)(new Error("No lightbox in action")));case 15:return e.abrupt("return",e.sent);case 16:return c=_()({},i,{url:Yi(i.url)}),e.next=19,Object(Oe.put)(Object(O.openLightboxAction)(c,a,o));case 19:return e.abrupt("return",e.sent);case 20:return e.next=22,Object(Oe.select)(function(e){return e.viewer});case 22:d=e.sent,p=d.experiences[d.activeExperienceId],e.t1=i.target,e.next="next"===e.t1?27:"previous"===e.t1?30:33;break;case 27:return s=u.a.FORWARDS,l=Object(O.getNextSceneNumber)(s,p),e.abrupt("break",35);case 30:return s=u.a.BACKWARDS,l=Object(O.getNextSceneNumber)(s,p),e.abrupt("break",35);case 33:return l=i.target,e.abrupt("break",35);case 35:return e.next=37,Object(Oe.put)(Object(O.signalExperienceSceneChange)(d.activeExperienceId,l,s));case 37:return e.next=39,Object(Oe.put)(Object(O.trackSceneNavigationAction)(i,a,o));case 39:return e.abrupt("break",56);case 40:return e.next=42,Object(Oe.put)(Object(O.JsClickAction)(i,a,o));case 42:return i.code&&(Bi()?Xi(i.code):Ct(i.code)),e.abrupt("break",56);case 44:return e.next=46,Object(Oe.put)(Object(O.customJsClickAction)(i,a,o));case 46:e.prev=46,null===zi(i.code,i.parameters)&&(Bi()?Xi(Wi(i.code,i.parameters)):Ct(Wi(i.code,i.parameters))),e.next=54;break;case 50:return e.prev=50,e.t2=e.catch(46),e.next=54,Object(Oe.put)(Object(O.SignalErrorAction)(new Error("Code not runnable")));case 54:case 55:return e.abrupt("break",56);case 56:case"end":return e.stop()}},e,this,[[46,50]])}),Zi=un(O.ActionTypes.VIEWER_WIDGET_CLICK,Qi);function $i(e,t,n){var i,r,a,o;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(Oe.select)(function(e){return e.viewer});case 2:return i=c.sent,r=t||i.activeExperienceId,a=e.payload.sceneNumber,void 0===n&&(o=i.experiences[r],n=o&&o.currentSceneNumber>a?u.a.BACKWARDS:u.a.FORWARDS),c.next=8,Object(Oe.put)(Object(O.signalExperienceSceneChange)(r,Number(a),n));case 8:return c.next=10,Object(Oe.put)(Object(O.trackSceneNavigationAction)(e,a,e.widgetId));case 10:case"end":return c.stop()}},Ki,this)}var er=un(O.ActionTypes.VIEWER_SCENE_NAVIGATOR_WIDGET_CLICK,$i),tr=[si,di,hi,fi,Ai,kn,Fi],nr=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Oe.all)([tr.map(function(e){return e()})].concat([Ni(),Di(),Zi(),er(),In(),xn(),An(),_n(),Ln(),Sn(),Cn(),Nn(),Tn(),On(),Rn(),wi(),ki(),bi(),Ii()]));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}},e,this,[[0,5]])}),ir=n(125),rr=n.n(ir),ar=(n(161),n(235));function or(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function cr(e){return e*(Math.PI/180)}function ur(e,t){return{x:Math.round(e.x*Math.cos(cr(t))-e.y*Math.sin(cr(t))),y:Math.round(e.x*Math.sin(cr(t))+e.y*Math.cos(cr(t)))}}function sr(e,t,n,i,r,a,o,c){var u=!1;return(u=(u=(u=u||lr(e,t,n,i,r,a,r,a+c))||lr(e,t,n,i,r+o,a,r+o,a+c))||lr(e,t,n,i,r,a,r+o,a))||lr(e,t,n,i,r,a+c,r+o,a+c)}function lr(e,t,n,i,r,a,o,c){var u=((o-r)*(t-a)-(c-a)*(e-r))/((c-a)*(n-e)-(o-r)*(i-t)),s=((n-e)*(t-a)-(i-t)*(e-r))/((c-a)*(n-e)-(o-r)*(i-t));return u>=0&&u<=1&&s>=0&&s<=1}var dr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;V()(this,e),this.width=t,this.height=n}return M()(e,null,[{key:"zero",get:function(){return new e}}]),M()(e,[{key:"shrinkToAspectRatio",value:function(t){var n=this.aspectRatio,i=this.width,r=this.height;return t>n?(i=this.width,r=or(this.width/t,2)):t<n&&(r=this.height,i=or(this.height*t,2)),new e(i,r)}},{key:"equals",value:function(t){return!!t&&(t===this||t instanceof e&&(this.width===t.width&&this.height===t.height))}},{key:"clone",value:function(){return new e(this.width,this.height)}},{key:"aspectRatio",get:function(){return this.width/this.height}}]),e}(),pr=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;V()(this,e),this.x=t,this.y=n},fr=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(V()(this,e),W()(this,"point",void 0),W()(this,"_size",void 0),t instanceof pr)return this.point=t,void(this._size=n);this.point=new pr(t,n),this._size=i instanceof dr?i:new dr(i,r)}return M()(e,null,[{key:"zero",get:function(){return new e(0,0,0,0)}}]),M()(e,[{key:"x",get:function(){return this.point.x}},{key:"y",get:function(){return this.point.y}},{key:"left",get:function(){return this.point.x}},{key:"top",get:function(){return this.point.y}},{key:"width",get:function(){return this._size.width}},{key:"height",get:function(){return this._size.height}},{key:"size",get:function(){return this._size.clone()}}]),e}(),gr=n(37),hr=n.n(gr),mr=n(16),vr=n.n(mr),Er=n(14),yr=(n(394),n(9)),wr=function(e){return e.duration/1e3},br=n(39),xr=new Be.a;br.Ease&&yr.e&&yr.g&&yr.b&&yr.c&&yr.a&&(xr.set(ne.LINEAR,yr.e.easeIn),xr.set(ne.EASE_IN,yr.g.easeIn),xr.set(ne.EASE_OUT,yr.g.easeOut),xr.set(ne.EASE_IN_OUT,yr.g.easeInOut),xr.set(ne.BOUNCE,yr.b.easeOut),xr.set(ne.ELASTIC,yr.c.easeOut),xr.set(ne.BACK_OUT,yr.a.easeOut));var kr=function(e,t){return _()({},t,{ease:(n=e.easing,xr.get(n))});var n},Ir=new Be.a;Ir.set(te.FADE,function(e,t){return yr.i.from(e,wr(t),kr(t,{opacity:0}))}),Ir.set(te.FADE_OUT,function(e,t){return yr.i.to(e,wr(t),kr(t,{opacity:0}))});var Ar=function(e,t,n,i){var r;switch(e){case"top":r=t>0?{top:"".concat(-t,"%")}:{top:"-100vh"};break;case"bottom":r={top:"100%"};break;case"left":r={left:"".concat(-screen.width+n,"px")};break;case"right":r=i?{left:"".concat(screen.width+i.clientWidth,"px")}:{left:"".concat(screen.width,"px")};break;default:throw new Error("Unknown slide direction: ".concat(e))}return r=_()({},r,{immediateRender:!1,lazy:!0}),i&&(i.style.visibility="hidden",r=_()({},r,{onStartParams:[i],onStart:function(e){e.style.visibility="visible"}})),r};Ir.set(te.SLIDE,function(e,t,n){var i=t.direction,r=n.width,a=Ar(i,100,r,e);return yr.i.from(e,wr(t),kr(t,a))}),Ir.set(te.SLIDE_OUT,function(e,t,n){var i=t.direction,r=n.height,a=n.width,o=Ar(i,r,a);return yr.i.to(e,wr(t),kr(t,o))}),Ir.set(te.ZOOM_IN,function(e,t){return yr.i.fromTo(e,wr(t),{scale:0},{scale:1})}),Ir.set(te.ZOOM_OUT,function(e,t){return yr.i.to(e,wr(t),kr(t,{scale:0}))}),Ir.set(te.MOVE,function(e,t){var n=t,i=n.horizontalMove,r=n.verticalMove;return yr.i.to(e,wr(t),kr(t,{left:"+=".concat(i,"%"),top:"+=".concat(r,"%")}))});var _r=Ir,Or=new Be.a;Or.set(ie.SCALE,function(e,t){return br.b.to(e,wr(t),{scale:t.scale})}),Or.set(ie.OPACITY,function(e,t){return br.b.to(e,wr(t),{opacity:t.opacity})}),Or.set(ie.ROTATE,function(e,t){var n,i=t,r=i.rotation,a=i.attentionMode,o=i.rotationDirection;return n="angle"===a?r<0?"-=".concat(r):"+=".concat(r):"cw"===o?"+=360":"-=360",br.b.to(e,wr(t),{rotation:n})}),Or.set(ie.PULSE,function(e,t){var n,i,r=t.value;switch(r){case 1:n=1.1,i=1;break;case 2:n=1.2,i=1.2;break;case 3:n=1.4,i=1;break;case 4:n=1.6,i=.8;break;case 5:n=2,i=.6;break;default:throw new Error("Model scale '".concat(r,"' not recognized."))}return br.b.to(e,i,{scale:n})}),Or.set(ie.IMAGE_TOGGLE,function(e){var t=e.childNodes[0],n=t.childNodes[0].hasChildNodes()?t.childNodes[0]:t,i=n.childNodes[0],r=2===n.childNodes.length?n.childNodes[1]:n.childNodes[2];return[br.b.to(i,.3,{autoAlpha:0,position:"absolute"}),br.b.fromTo(r,.3,{autoAlpha:0},{autoAlpha:1})]});var Tr=Or,Lr=function(){function e(){V()(this,e)}return M()(e,null,[{key:"createActivatable",value:function(e,t){var n=t.animations,i=t.effects,r=t.width,a=t.height,o=new yr.h;return n.forEach(function(t){if(_r.has(t.type)){var n=_r.get(t.type);o.add(n(e,t,{width:r,height:a}),t.delay/1e3)}}),i.filter(function(e){return e.triggerType===re.ATTENTION&&Tr.has(e.type)}).forEach(function(t){var n=Tr.get(t.type)(e,t);(le()(n)?n:[n]).forEach(function(e){o.add(e.repeat(-1).yoyo(!0).timeScale(2),0)})}),o.pause(),o}},{key:"createHover",value:function(e,t){var n=t.effects.find(function(e){return e.triggerType===re.HOVER});if(n&&Tr.has(n.type)){var i,r=Tr.get(n.type),a=new yr.h;return a.pause(),n.type===ie.SCALE?(i=_()({},n),t.scale&&(i.scale*=t.scale.x)):i=_()({},n),a.add(r(e,i))}}}]),e}(),Sr=function(e){return function(t){function n(){var e,t;V()(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=Ve()(this,(e=Me()(n)).call.apply(e,[this].concat(r))),W()(Ge()(Ge()(t)),"state",{inViewport:!0}),W()(Ge()(Ge()(t)),"displayName","withViewportBehavior"),W()(Ge()(Ge()(t)),"observer",null),W()(Ge()(Ge()(t)),"node",null),W()(Ge()(Ge()(t)),"intersected",!1),W()(Ge()(Ge()(t)),"childComponent",null),t}return We()(n,t),M()(n,[{key:"componentDidMount",value:function(){this.initIntersectionObserver(),this.startObserver(this.node,this.observer)}},{key:"componentDidUpdate",value:function(e,t){this.intersected||t.inViewport||this.observer&&this.node&&(this.observer.unobserve(this.node),this.observer.observe(this.node))}},{key:"initIntersectionObserver",value:function(){var e=this;!this.observer&&IntersectionObserver&&(this.observer=new IntersectionObserver(function(t){e.handleIntersection(t)},this.options))}},{key:"componentWillUnmount",value:function(){this.stopObserver(this.node,this.observer)}},{key:"startObserver",value:function(e,t){e&&t&&t.observe(e)}},{key:"stopObserver",value:function(e,t){e&&t&&(t.unobserve(e),t.disconnect(),this.observer=null)}},{key:"handleIntersection",value:function(e){var t=this.props,n=t.onEnterViewport,i=t.onLeaveViewport,r=(e[0]||{}).intersectionRatio>0;if(!this.intersected&&r)return this.intersected=!0,n&&n(),this.childComponent&&this.childComponent.onEnterViewport&&this.childComponent.onEnterViewport(),void this.setState({inViewport:r});this.intersected&&!r&&(this.intersected=!1,i&&i(),this.childComponent&&this.childComponent.onLeaveViewport&&this.childComponent.onLeaveViewport(),this.options.disconnectOnLeave&&this.observer&&this.observer.disconnect(),this.setState({inViewport:r}))}},{key:"setRef",value:function(e){this.node=o.findDOMNode(e),this.childComponent=e}},{key:"setInnerRef",value:function(e){e&&!this.node&&(this.node=o.findDOMNode(e),this.initIntersectionObserver(),this.startObserver(this.node,this.observer),this.childComponent=e)}},{key:"render",value:function(){var t=this;return r.createElement(e,vr()({},this.props,{connectViewportBehavior:function(e){t.setInnerRef(e)}}))}},{key:"options",get:function(){return this.props.intersectionOptions||{disconnectOnLeave:!1}}}]),n}(r.PureComponent)},Cr=function(e){function t(){return V()(this,t),Ve()(this,Me()(t).apply(this,arguments))}return We()(t,e),M()(t,[{key:"render",value:function(){var e=this.props.children;return r.createElement("div",null,e)}},{key:"componentDidMount",value:function(){var e=this.props.connectViewportBehavior;e&&e(this)}},{key:"onEnterViewport",value:function(){this.props.onEnterViewport&&this.props.onEnterViewport()}},{key:"onLeaveViewport",value:function(){this.props.onLeaveViewport&&this.props.onLeaveViewport()}}]),t}(r.Component),Nr=Object(Er.a)(Sr)(Cr),Rr=function(e){function t(){var e,n;V()(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=Ve()(this,(e=Me()(t)).call.apply(e,[this].concat(r))),W()(Ge()(Ge()(n)),"active",!1),W()(Ge()(Ge()(n)),"activatableTimeline",void 0),W()(Ge()(Ge()(n)),"hoverTimeline",void 0),W()(Ge()(Ge()(n)),"observer",null),W()(Ge()(Ge()(n)),"intersected",!1),W()(Ge()(Ge()(n)),"nodeElement",void 0),W()(Ge()(Ge()(n)),"mouseOverHandler",function(){return n.hoverTimeline&&n.activatableTimeline&&n.activatableTimeline.pause(),n.hoverTimeline&&n.hoverTimeline.play()}),W()(Ge()(Ge()(n)),"mouseOutHandler",function(){return n.hoverTimeline&&n.activatableTimeline&&n.activatableTimeline.resume(),n.hoverTimeline&&n.hoverTimeline.reverse()}),n}return We()(t,e),M()(t,[{key:"render",value:function(){var e=(0,this.props.children)(r.createElement(Nr,null));return Object(r.cloneElement)(e,{onMouseOver:this.mouseOverHandler,onMouseOut:this.mouseOutHandler})}},{key:"componentDidMount",value:function(){var e=this;this.nodeElement=this.props.getComponentWidgetRef(),this.hasActivatableAnimations&&(this.activatableTimeline=Lr.createActivatable(this.nodeElement,this.props)),this.hasHoverEffects&&(this.hoverTimeline=Lr.createHover(this.nodeElement,this.props)),!this.observer&&IntersectionObserver&&(this.observer=new IntersectionObserver(function(t){e.handleViewportChange(t)}),this.observer.observe(this.nodeElement)),this.updateToActiveState()}},{key:"handleViewportChange",value:function(e){this.nodeElement&&!1==!!window.ZMAGS_DisableAnimations&&(!this.intersected&&e[0].intersectionRatio>0&&this.props.active&&(this.intersected=!0,this.props.trackerEventHandler(this.nodeElement),this.activatableTimeline&&0===this.activatableTimeline.progress()&&this.activatableTimeline.resume()),this.intersected&&0===e[0].intersectionRatio&&(this.activatableTimeline&&1===this.activatableTimeline.progress()&&this.activatableTimeline.restart().pause(),this.intersected=!1))}},{key:"componentDidUpdate",value:function(){this.updateToActiveState()}},{key:"componentWillUnmount",value:function(){this.activatableTimeline&&this.activatableTimeline.kill(),this.hoverTimeline&&this.hoverTimeline.kill()}},{key:"updateToActiveState",value:function(){var e=this.props.active;e!==this.active&&(this.active=e,this.activatableTimeline&&this.activatableTimeline.restart().pause())}},{key:"hasActivatableAnimations",get:function(){var e=this.props,t=e.animations,n=e.effects;return t&&t.length||n&&Object(P.find)(n,function(e){return e.triggerType===re.ATTENTION})}},{key:"hasHoverEffects",get:function(){var e=this.props.effects;return e&&Object(P.find)(e,function(e){return e.triggerType===re.HOVER})}}]),t}(r.Component),Dr=function(e){var t=e.action,n=e.type,i=e.render,a=r.Children.only(i);if(t&&t.type===$.LinkAction){var o=t.url,c=t.target,u=n===X.LINK&&t.url||void 0;return r.createElement("a",{href:o,target:c,title:u,style:{textDecoration:"none"},onClick:function(e){document.getElementsByClassName(Gt)[0]&&(e.preventDefault(),function(e){var t=e.url,n=e.target,i=e.targetMessage,r=e.maxTimeToWait,a=i.targetKey,o=i.targetValue;if(Ft){var c=window.setTimeout(function(){window.open(t,n)},r);window.addEventListener("message",function e(i){i.data[a]===o&&(window.clearTimeout(c),window.removeEventListener("message",e),window.open(t,n))})}}({url:o,target:c,maxTimeToWait:250,targetMessage:{targetKey:"openLink",targetValue:o}}))}},a)}return a},Vr=Object(Er.a)(Object(c.b)(null,function(e,t){return _()({onClickHandler:function(){var n=t.action,i=t.widgetAction,r=t.sceneNumber,a=t.type,o=t.uuid;e(Object(O.signalWidgetClick)(a,o,n,i,r))},trackerEventHandler:function(n){var i={properties:_()({},t,{node:n})};e(Object(O.trackWidgetViewAction)(i,t.sceneNumber))}},t)}),function(e){var t,n;return n=t=function(t){function n(e){var t;return V()(this,n),t=Ve()(this,Me()(n).call(this,e)),W()(Ge()(Ge()(t)),"containerRef",r.createRef()),W()(Ge()(Ge()(t)),"getComponentWidgetRef",function(){return t.containerRef.current}),t.state={width:e.width,height:e.height},t}return We()(n,t),M()(n,[{key:"render",value:function(){var t=this,n=this.props,i=n.type,a=n.pxTop,o=n.pxLeft,c=n.rotation,u=n.layerIndex,s=n.onClickHandler,l=hr()(n,["type","pxTop","pxLeft","rotation","layerIndex","onClickHandler"]),d=this.props.scale,p="widget-component ".concat(i,"-widget"),f=i===X.LINE?"default":"pointer",g={position:"absolute",pointerEvents:l.active?"auto":"none",cursor:l.active?f:"none"};return this.props.pxWidth&&(g.width="".concat(this.props.pxWidth,"px")),this.props.pxHeight&&(g.height="".concat(this.props.pxHeight,"px")),u&&(g.zIndex=u),r.createElement(Rr,vr()({},this.props,{getComponentWidgetRef:this.getComponentWidgetRef,width:this.state.width,height:this.state.height}),function(n){var u=t.state,f=u.width,h=u.height,m=[X.BUTTON,X.SOCIAL_SHARING,X.SCENE_NAVIGATOR];g.transform="translate(".concat(o,"px, ").concat(a,"px)");var v=void 0;if(m.indexOf(i)>-1&&d){var E=d.widthFactor,y=d.heightFactor,w="scale(".concat(E,",").concat(y,")"),b="calc(100% - (100% * ".concat(E,"))"),x="calc(".concat(o,"px - ").concat(b," * 0.5)"),k="calc(100% - (100% * ".concat(y,"))"),I="calc(".concat(a,"px - ").concat(k," * 0.5)"),A="translate(".concat(x,",").concat(I,")");if(g.transform="".concat(A," ").concat(w),Wt()||Pt())if(f||h){var O=o-.5*(f-f*E),T=a-.5*(h-h*y);g.msTransform="translate(".concat(O,"px, ").concat(T,"px) ").concat(w),Wt()&&(g.transform=g.msTransform),v=l.active?"visible":"hidden"}else v="hidden"}0!==c&&(g.transform="".concat(g.transform," rotate(").concat(c,"deg)"),g.transformOrigin="0 0 0");var L=_()({},g,{visibility:v}),S=t.props,C=S.effects,N=S.opacity;return C&&C.length>0&&C.forEach(function(e){e.type===ie.OPACITY&&(delete l.opacity,L.opacity=N)}),r.createElement("div",{ref:t.containerRef,style:L,className:p,onClick:s},r.createElement(Dr,{type:i,action:l.action,render:r.createElement(e,vr()({},l,{type:i}))}),n,r.createElement(rr.a,{handleWidth:!0,handleHeight:!0,skipOnMount:!(Wt()||Pt()),onResize:function(e,n){t.setState({width:e,height:n})},refreshMode:"throttle",refreshRate:300}))})}}]),n}(r.Component),W()(t,"displayName",Object(Er.d)(e,"withDefaultWidgetBehavior")),n}),jr={overflow:"visible",position:"relative",cursor:"default"},Mr=function(e){var t=function(t){var n=t.radius,i=t.opacity,a=t.borderWidth,o=t.borderColor,c=t.boxShadow,u=t.scale,s=t.backgroundColor,l=hr()(t,["radius","opacity","borderWidth","borderColor","boxShadow","scale","backgroundColor"]),d=_()({width:"100%",height:"100%",opacity:i,boxShadow:c,background:s,backgroundColor:s},jr),p=oe()(n);if("number"===p){var f=u?(u.avereage+3)/4:1;d.borderRadius="".concat(n*f,"px")}else"string"===p&&(d.borderRadius=n);return a&&a>0?d.border="".concat(a,"px solid ").concat(o||"#000"):d.borderWidth=0,t.action&&(d.cursor="pointer"),r.createElement("div",{style:d},r.createElement(e,vr()({},t,l)))};return t.displayName=Object(Er.d)(e,"withWidgetStyling"),t},Fr=Object(Er.a)(Object(c.b)(null,function(e,t){return _()({onError:function(t){le()(t)?t.forEach(function(t){e(Object(O.SignalErrorAction)(t))}):e(Object(O.SignalErrorAction)(t))}},t)}),function(e){var t,n;return n=t=function(t){function n(){return V()(this,n),Ve()(this,Me()(n).apply(this,arguments))}return We()(n,t),M()(n,[{key:"render",value:function(){var t=this.props,n=t.fontFamilies,i=t.onError;return G.loadFromArray(n).catch(i),r.createElement(e,this.props)}}]),n}(r.Component),W()(t,"displayName",Object(Er.d)(e,"withWidgetFontLoading")),n});function Wr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n){if(n.action){var i=Object(P.find)(t,function(e){return e.type===n.action.type});if(i)return r.createElement(e,vr()({},n,{widgetAction:i}))}return r.createElement(e,n)}}}var Pr,Gr={position:"relative",width:"100%",height:"100%"},zr=Object(Er.a)(Vr,Mr)(function(){var e=_()({},Gr);return r.createElement("div",{style:e})}),Ur=Object(Er.a)(Vr)(function(e){var t=e.lineColor,n=e.lineHeight,i=e.scale,a=e.pxHeight,o={backgroundColor:t,width:"100%",height:i.min*ue()(n,10)+"px",marginTop:-i.min*ue()(n,10)/2,position:"absolute",top:"".concat(a/2,"px"),left:"0px"};return r.createElement("div",{style:o})}),Hr=Object(Er.a)(Vr)(function(){return r.createElement("p",null,"Widget")}),Br=(n(121),"social-window"),Xr="location=1,status=1,scrollbars=1,width=500,height=380",qr="//assets.pinterest.com/js/pinmarklet.js",Jr=(Pr={},W()(Pr,Z.Facebook,"//www.facebook.com/sharer.php?u="),W()(Pr,Z.Twitter,"//twitter.com/?status="),W()(Pr,Z.Pinterest,""),W()(Pr,Z.GooglePlus,"//plus.google.com/share?url="),W()(Pr,Z.Linkedin,"//www.linkedin.com/shareArticle?mini=true&url="),Pr);kt()(Jr),Q.Squared,K.FlatSquared,Q.Rounded,K.FlatRounded,Q.Isolated,K.Isolated,Q.Circle,K.FlatCircle,Q.White,K.WhiteCircle,Q.Black,K.BlackCircle;function Yr(e,t){var n=Lt(!1);if(t=t||n.location.href||window.location.href,e!==Z.Pinterest){var i=n.document.createElement("a");i.href=Jr[e]+encodeURIComponent(t),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=Lt(!1);-1!==["_self","_parent","_top"].indexOf(t)?i.setTimeout(function(){i.location.href=e},501):i.open(e,t,n)}(i.href,Br,Xr)}else{var r=n.document.createElement("script");r.setAttribute("id","zmags-pinmarklet"),r.setAttribute("type","text/javascript"),r.setAttribute("charset","UTF-8"),r.setAttribute("src","".concat(qr,"?r=").concat(99999999*Math.random())),n.document.body.appendChild(r)}}var Kr=n(236),Qr=Object(Er.a)(Vr)(Object(c.b)(null,function(e,t){return _()({networkClickHandlers:new Be.a(t.networks.map(function(n){return[n,function(){Yr(n,t.url),Object(O.trackSocialSharing)({id:null,type:$.SocialSharing,url:t.url},t.sceneNumber,e,t.uuid)}]}))},t)})(function(e){var t=e.style,n=e.networks,i=e.networkClickHandlers,a=n.map(function(e){var n="images/sharing/".concat(t,"/").concat(e,".png"),a=we.viewerBaseUrl?we.viewerBaseUrl+"/":"",o=we.codePath?we.codePath+"/":"",c="".concat(a).concat(o).concat(n);return r.createElement("a",{"data-network":e,className:Kr.shareLink,key:e,onClick:i.get(e)},r.createElement("img",{alt:"".concat(Se(e)," Share Image"),"aria-label":"Share experience in ".concat(e),tabIndex:0,style:{maxWidth:"32px",maxHeight:"32px",userSelect:"all"},src:c}))});return r.createElement("div",null,a)})),Zr=/^https:\/\/|^http:\/\/|^\//,$r=function(e){var t=function(t){var n=t.active,i=t.url,a=Zr.test(i)&&n?i:"about:blank";return r.createElement(e,vr()({},t,{url:a}))};return t.displayName=Object(Er.d)(e,"withIframeUrl"),t},ea=Object(Er.a)($r,Vr)(function(e){var t=e.url,n=function(e){return-1!==e.indexOf("viewer.html#")&&-1!==e.indexOf("zmags.com")}(t)?Yi(t):t;return r.createElement("iframe",{allowFullScreen:!0,src:n,style:{width:"1px",minWidth:"100%",height:"1px",minHeight:"100%",border:0,top:0,left:0,right:0,bottom:0,position:"absolute",overflow:"hidden"},scrolling:"no"})}),ta=function(e){function t(){var e,n;V()(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=Ve()(this,(e=Me()(t)).call.apply(e,[this].concat(a))),W()(Ge()(Ge()(n)),"iframeRef",Object(r.createRef)()),W()(Ge()(Ge()(n)),"fillIframe",function(){var e=n.props.htmlText,t=n.iframeRef&&n.iframeRef.current&&n.iframeRef.current.contentWindow&&n.iframeRef.current.contentWindow.document?n.iframeRef.current.contentWindow.document:void 0;t&&(t.open(),t.write(e),t.close())}),n}return We()(t,e),M()(t,[{key:"componentDidUpdate",value:function(e){this.props.htmlText!==e.htmlText&&this.fillIframe()}},{key:"componentDidMount",value:function(){this.fillIframe()}},{key:"render",value:function(){return a.a.createElement("iframe",{src:"about:blank",ref:this.iframeRef,style:{width:"1px",minWidth:"100%",height:"1px",minHeight:"100%",border:0,top:0,left:0,right:0,bottom:0,position:"absolute",overflow:"hidden"}})}}]),t}(r.Component);W()(ta,"defaultProps",{htmlText:""});var na=Vr(ta),ia=[{type:$.LinkAction},{type:$.Js},Ui,{type:$.SalesforceCommerce},{type:$.Lightbox},{type:$.SceneNavigation}],ra={opacity:0,cursor:"pointer",position:"relative",width:"100%",height:"100%"},aa=Object(Er.a)(Wr.apply(void 0,I()(ia)),Vr)(function(){return r.createElement("div",{tabIndex:0,style:ra})}),oa=n(167),ca=n.n(oa),ua=n(163),sa=n.n(ua),la=function(e){var t=e.action,n=e.color,i=e.fontSize,a=e.fontVariant,o=e.fontFamily,c=e.fontWeight,u=e.letterSpacing,s=e.lineHeight,l=e.textAlign,d=e.textDecoration,p=e.textShadow,f=e.textTransform,g=e.scale,h=e.type===X.TEXT_ENHANCED,m={color:n,fontSize:i*g.widthFactor,fontFamily:o,fontVariant:a,fontWeight:c,letterSpacing:!!u&&u*g.widthFactor,lineHeight:s,textAlign:l,textDecoration:d,textShadow:p,textTransform:f,wordBreak:"break-word"},v=t?"with-pointer-cursor":"";return r.createElement("div",{className:v,style:m,tabIndex:0,dangerouslySetInnerHTML:{__html:function(e){try{var t=(new DOMParser).parseFromString(e,"text/html");return sa()(t.body.querySelectorAll("*")).forEach(function(e){var t=ca()(e.style.fontSize.substring(0,e.style.fontSize.length-2)),n=e.style.fontSize.substring(e.style.fontSize.length-2,e.style.fontSize.length);isNaN(t)||"px"!==n||(e.style.fontSize="".concat(g.widthFactor*t,"px"),h&&!m.fontSize&&(m.fontSize="".concat(g.widthFactor*t,"px")));var i=ca()(e.style.letterSpacing.substring(0,e.style.letterSpacing.length-2)),r=e.style.letterSpacing.substring(e.style.letterSpacing.length-2,e.style.letterSpacing.length);isNaN(i)||"px"!==r||(e.style.letterSpacing="".concat(g.widthFactor*i,"px"));var a=e.style.fontFamily;h&&!m.fontFamily&&(m.fontFamily=a)}),t.body.innerHTML}catch(t){return e}}(e.text)}})};la.defaultProps={fontSize:14,lineHeight:1.4};var da=Object(Er.a)(Wr.apply(void 0,I()(ia)),Vr,Fr,Mr)(la),pa=n(104);var fa={"white-1":"circle","white-2":"circle","white-3":"circle","white-4":"circle","white-5":"square","black-1":"circle","black-2":"circle","black-3":"circle","black-4":"circle","black-5":"square"},ga={cursor:"default"},ha=function(e){function t(){return V()(this,t),Ve()(this,Me()(t).apply(this,arguments))}return We()(t,e),M()(t,[{key:"render",value:function(){var e=this.props,t=e.sceneNavigationItems,n=e.direction,i=e.themeClassName;return r.createElement("ul",{"data-direction":n,style:ga,className:"".concat(pa.scene_navigator_container," ").concat(pa.widget_component," ").concat(i)},t.map(function(e){var t=e.id,n=e.controlShapeClassName,i=e.activeClass,a=e.navigate;return r.createElement("li",{tabIndex:0,key:t,"aria-label":"Navigation item. Navigate to ".concat(e.sceneNumber," scene"),className:"".concat(n," ").concat(i),onClick:a})}))}}]),t}(r.Component),ma=Object(Er.a)(Vr)(Object(c.b)(function(e,t){var n,i=e.viewer,r=i.experiences[i.activeExperienceId],a=t.theme,o=pa,c=o[(n=a,n.replace("-","_").replace(/-+(\w)/g,function(e,t){return t.toUpperCase()}))],u=o[fa[a]]||"";return _()({},t,{experienceId:i.activeExperienceId,themeClassName:c,sceneNavigationItems:r.model.scenes.map(function(e,t){var n=t+1;return{activeClass:n===r.currentSceneNumber?pa.active:"",sceneNumber:n,id:e.id,controlShapeClassName:u,navigate:function(){}}})})},function(e,t){return{gotoSceneClickHandler:function(n,i){e(Object(on.F)(n,i,t.uuid))}}},function(e,t,n){return _()({},e,{sceneNavigationItems:e.sceneNavigationItems.map(function(e){return _()({},e,{navigate:function(){return t.gotoSceneClickHandler(e.sceneNumber,n.experienceId)}})})})})(ha)),va=[new dr(3840,3840),new dr(2560,2560),new dr(2048,2048),new dr(1536,1536),new dr(1280,1280),new dr(1080,1080),new dr(960,800),new dr(910,448),new dr(720,450),new dr(480,320),new dr(300,300),new dr(100,100),new dr(50,50)],Ea=function(e,t){return e.width<=t.width&&e.height<=t.height},ya=function(e,t,n){var i,r,a,o=e.split(".").pop(),c=e;if("svg"!==o.toLowerCase()&&-1===e.indexOf("images/transparent-pixel.gif")){var u=o?".".concat(o):"",s=o?e.replace(".".concat(o),""):e,l=null;"gif"!==o.toLowerCase()&&n&&(i=t,r=n,a=va.filter(function(e){return!Ea(i,e)}),l=Object(P.find)(a.sort(function(e,t){return e.width-t.width}),function(e){return Ea(r,e)})),c=l?"".concat(s,"_").concat(l.width,"x").concat(l.height).concat(u):"".concat(s,"-optimized").concat(u)}return c},wa=function(){function e(){V()(this,e)}return M()(e,null,[{key:"getFileNameWithExtension",value:function(e){return e?e.split("/").pop().replace(/[?|#].+/,""):null}}]),e}(),ba=we.cloudinaryBaseUrl,xa=we.cloudinaryImageReloadBreakpoint,ka=we.viewerBaseUrl,Ia=function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"q_auto",a="",o="",c="",u=wa.getFileNameWithExtension(e);return t&&(o="w_".concat(t.width,",h_").concat(t.height,",x_").concat(t.x,",y_").concat(t.y,",c_crop,")),i&&(c="".concat(n?",":"","q_1,e_blur:999/")),n&&(a="c_scale,w_".concat(Math.round(n)).concat(i?"":"/")),i||"original_quality"!==r?(""===r&&(r="q_auto"),"".concat(ba,"/").concat(o).concat(r)+"".concat(",f_auto","/").concat(a).concat(c).concat(u)):"".concat(ka,"/assets/images/").concat(u)},Aa=we.viewerBaseUrl,_a=Aa?"".concat(Aa):"",Oa=function(e){var t,n=e||"images/transparent-pixel.gif";return(t=n).indexOf("://")>0||0===t.indexOf("//")||(n="".concat(_a,"/").concat(n)),n},Ta=(Object(Er.a)(Object(Er.c)("failedInitialLoad","setFailedInitialLoad",!1),Object(Er.b)({onErrorHandler:function(e){var t=e.setFailedInitialLoad;return function(e){t(!0)}}})),{position:"absolute",width:"100%",height:"100%"}),La=function(e){function t(e){var n;return V()(this,t),n=Ve()(this,Me()(t).call(this,e)),W()(Ge()(Ge()(n)),"imageRef",r.createRef()),W()(Ge()(Ge()(n)),"imageLqipRef",r.createRef()),W()(Ge()(Ge()(n)),"showTimeline",void 0),W()(Ge()(Ge()(n)),"onImageLoad",function(){n.showTimeline=new yr.h,n.props.hasOwnProperty("isHidden")?n.onImageShown():n.showTimeline.add(yr.i.to(n.imageRef.current,.1,{opacity:1,onComplete:n.onImageShown}))}),W()(Ge()(Ge()(n)),"onImageShown",function(){n.showTimeline.add(yr.i.to(n.imageLqipRef.current,0,{opacity:0,onComplete:function(){n.setState({imageLoaded:!0})}}))}),n.state={imageLoaded:!1},n}return We()(t,e),M()(t,[{key:"componentDidMount",value:function(){this.props.optimalWidth&&this.props.imageId&&this.props.imageLoaded({imageId:this.props.imageId,width:Math.round(this.props.optimalWidth)})}},{key:"render",value:function(){var e,t=this.props,n=t.isHidden,i=t.src,a=t.altText,o=t.lqipSrc,c=this.state.imageLoaded,u=_()({},Ta,{visibility:n?"hidden":"inherit"});if(o&&!c){var s=_()({},u,{zIndex:2});e=r.createElement("img",{src:o,"aria-label":a,tabIndex:0,alt:a,style:s,ref:this.imageLqipRef})}return u=o&&!c?_()({},u,{opacity:0,zIndex:1}):u,r.createElement(r.Fragment,null,r.createElement("img",{src:i,"aria-label":a,tabIndex:0,alt:a,style:u,onLoad:o?this.onImageLoad:void 0,ref:this.imageRef}),e)}}]),t}(r.Component),Sa=function(e){function t(){return V()(this,t),Ve()(this,Me()(t).apply(this,arguments))}return We()(t,e),M()(t,[{key:"render",value:function(){var e,t,n=this.props,i=n.effects,a=n.altText,o=n.src,c=n.action,u=n.optimalWidth,s=n.imageId,l=n.lqipSrc,d=n.imageLoaded,p=n.cloudinaryImageAndDprOverride,f=i&&Object(P.find)(i,function(e){return e.type===ie.IMAGE_TOGGLE}),g=a;c&&(e=c.type,t=c.target);var h=r.createElement(r.Fragment,null);if(f){var m=f;h=r.createElement(La,{altText:m.altText,src:m.src,isHidden:!0,optimalWidth:u,imageId:s,lqipSrc:l,cloudinaryImageAndDprOverride:p,imageLoaded:d})}return"sceneNavigation"!==e||g||(g="Scene navigation. Go to ".concat(t)),r.createElement(r.Fragment,null,r.createElement(La,{src:o,altText:g,optimalWidth:u,imageId:s,lqipSrc:l,cloudinaryImageAndDprOverride:p,imageLoaded:d}),h)}}]),t}(r.Component),Ca=Object(c.b)(null,function(e,t){return _()({},t,{imageLoaded:function(t){return e(Object(O.imageLoadedAction)(t))}})})(Sa),Na=Object(Er.a)(function(e){return function(t){var n=t.src,i=t.frame,a=hr()(t,["src","frame"]),o=new dr(a.originalImageWidth,a.originalImageHeight),c=ya(n,o,i);return r.createElement(e,vr()({},a,{src:c}))}})(Ca),Ra=Object(Er.a)(Wr.apply(void 0,I()(ia)),Vr,Mr)(Na),Da=Object(Er.a)(Wr.apply(void 0,I()(ia)),Vr,function(e){return function(t){var n=t.src,i=t.frame,a=t.baseUrl,o=hr()(t,["src","frame","baseUrl"]),c="".concat(a,"/").concat(n||"","?size=").concat(i.width,",").concat(i.height);return r.createElement(e,vr()({},o,{src:c,url:c}))}})(Na),Va=Object(Er.a)(Wr.apply(void 0,I()(ia)),Vr,function(e){return function(t){var n=t.src,i=t.crop,a=t.frame,o=t.loadedImageWidth,c=t.lowQualityImagePlaceholder,u=t.cloudinaryImageAndDprOverride,s=hr()(t,["src","crop","frame","loadedImageWidth","lowQualityImagePlaceholder","cloudinaryImageAndDprOverride"]),l=function(e,t){var n;return e&&(n=t&&e<t+xa?t:Math.round(e)),n}(a.width,o),d=Ia(n,i,l,!1,u),p=c?Ia(n,i,l,c):void 0;return r.createElement(e,vr()({},s,{src:d,url:d,optimalWidth:l,lqipSrc:p,cloudinaryImageAndDprOverride:u}))}},Mr)(Ca),ja=n(237),Ma=n.n(ja),Fa={position:"absolute",top:0,left:0,width:"100%",height:"100%"},Wa={position:"relative",height:"100%",width:"100%"},Pa=function(e){var t=e.videoID,n="//img.youtube.com/vi/".concat(t,"/hqdefault.jpg"),i={width:"100%",height:"100%",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundImage:'url("'.concat(n,'")')};return r.createElement("div",{style:i})},Ga=function(e){function t(){var e,n;V()(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=Ve()(this,(e=Me()(t)).call.apply(e,[this].concat(r))),W()(Ge()(Ge()(n)),"state",{playerReady:!1,playing:!1}),W()(Ge()(Ge()(n)),"player",void 0),W()(Ge()(Ge()(n)),"isInViewport",!1),W()(Ge()(Ge()(n)),"ref",function(e){n.player=e}),n}return We()(t,e),M()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.videoID,i=t.controls,a=t.loop,o=t.autoplay,c=t.mute,u=this.state.playing,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={color:"white",modestbranding:0,rel:0,showinfo:0,controls:+(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]),loop:+t};return n.loop&&(n.playlist=e),n}(n,a,i);return n&&r.createElement(Nr,{onEnterViewport:function(){e.onEnterViewport()},onLeaveViewport:function(){e.onLeaveViewport()}},r.createElement("div",{style:Fa},r.createElement("div",{style:Wa,tabIndex:0},r.createElement(Ma.a,{url:"https://www.youtube.com/watch?v=".concat(n),playing:u,width:"100%",height:"100%",className:"react-player",controls:i,config:{playerVars:s,preload:!0},muted:c,autoPlay:o,loop:a,ref:this.ref,onReady:function(){e.setState({playerReady:!0}),e.tryToPlay()}}))),!this.state.playerReady&&r.createElement("div",{key:n,style:Fa},r.createElement(Pa,{videoID:n})))}},{key:"tryToPlay",value:function(){var e=this.state.playerReady,t=this.props,n=t.active,i=t.autoplay;e&&i&&(n&&this.isInViewport?this.setState({playing:!0}):this.setState({playing:!1}))}},{key:"onEnterViewport",value:function(){this.isInViewport=!0,this.tryToPlay()}},{key:"onLeaveViewport",value:function(){this.isInViewport=!1,this.setState({playing:!1})}}]),t}(r.Component),za=Object(Er.a)(Vr)(Ga),Ua=n(126),Ha=function(e){var t=e.icon,n=e.fontSize,i=e.buttonType,a="".concat(we.viewerBaseUrl,"/images/material-design-icons/").concat(t.groupId)+"/svg/production/ic_".concat(t.iconId,"_").concat(t.size,"px.svg"),o={marginLeft:0,marginRight:0};i===f.TEXT_AND_ICON&&(o=t.placement===p.AFTER?{marginLeft:5,marginRight:0}:{marginLeft:0,marginRight:5});var c=_()({},o,{display:"inline-block",verticalAlign:"middle",width:n,height:n,lineHeight:0}),u={fill:t.color,width:n,height:n};return r.createElement("span",{style:c},r.createElement(Ua.a,{src:a,svgStyle:u}))},Ba={whiteSpace:"nowrap"},Xa=function(e){var t=e.label;return r.createElement("span",{style:Ba},t)},qa={outline:"none",pointerEvents:"none",display:"flex",justifyContent:"center",alignItems:"center",width:"auto",height:"auto",margin:"0",WebkitAppearance:"none",lineHeight:"1.4"},Ja=Object(Er.a)(Wr.apply(void 0,I()(ia)),Vr,Mr,Fr)(function(e){var t=e.label,n=e.icon,i=e.buttonType,a=e.color,o=e.fontFamily,c=e.fontSize,u=e.fontStyle,s=e.fontWeight,l=e.opacity,d=e.padding,g=e.radius,h=e.scale,m=i===f.ICON_ONLY,v=m||i===f.TEXT_AND_ICON,E=i===f.TEXT_ONLY||i===f.TEXT_AND_ICON,y=m?{padding:"".concat(d,"px")}:{padding:"6px ".concat(d,"px")},w=_()({},qa,y,{color:a,fontFamily:o,fontStyle:u,fontWeight:s,fontSize:c,opacity:l,border:"0",borderRadius:(g||0)*h.widthFactor});return r.createElement("button",{type:"button",style:w},v&&n.placement===p.BEFORE&&r.createElement(Ha,{icon:n,fontSize:c,buttonType:i}),E&&r.createElement(Xa,{label:t}),v&&n.placement===p.AFTER&&r.createElement(Ha,{icon:n,fontSize:c,buttonType:i}))}),Ya=Object(Er.a)(Vr)(function(e){var t=e.group,n=e.integrations,i=e.size,a=e.active,o=e.sceneNumber;return r.createElement("div",{className:"group"},r.createElement(ro,{widgets:t,active:a,integrations:n,size:i,sceneNumber:o}))}),Ka=Object(Er.a)(Vr)(function(){return r.createElement("div",{tabIndex:0,style:{height:"100%",width:"100%"}})}),Qa=function(e,t,n){var i=function(e,t){return new fr(e.left*t.width/100,e.top*t.height/100,e.width*t.width/100,e.height*t.height/100)}(e,t),a=i.top,o=i.left,c=i.width,u=i.height,s=_()({pxTop:a,pxHeight:u,pxLeft:o,pxWidth:c},e);switch(s.type){case X.SALESFORCE_COMMERCE:return r.createElement(Ka,vr()({key:s.uuid},s));case X.LINE:return r.createElement(Ur,vr()({key:s.uuid},s));case X.SHAPE:return r.createElement(zr,vr()({key:s.uuid},s));case X.IMAGE:return function(e,t,n){var i=new dr(t.width*(e.width/100),t.height*(e.height/100));switch(e.sourceType){case Y.Cloudinary:return r.createElement(Va,vr()({key:e.uuid},e,{frame:i}));case Y.Scene7:var a="";if(n){var o=n.find(function(e){return e.type===ee.SCENE7});o&&o.imageServingUrl&&(a=o.imageServingUrl)}return r.createElement(Da,vr()({key:e.uuid},e,{baseUrl:a,frame:i}));case Y.Creator:return r.createElement(Ra,vr()({key:e.uuid},e,{frame:i}));case Y.Unknown:return r.createElement(Hr,vr()({key:e.uuid},e))}}(s,t,n);case X.SOCIAL_SHARING:return r.createElement(Qr,vr()({key:s.uuid},s));case X.YOUTUBE:return r.createElement(za,vr()({key:s.uuid},s));case X.EMBED:return"undefined"!=typeof window&&(qi._acceptQuickViewFromChildren(),window.location===window.top.location&&(window.ZMAGS_CustomActionRegistered||(window.addEventListener("message",Hi),window.ZMAGS_CustomActionRegistered=!0))),r.createElement(ea,vr()({key:s.uuid},s));case X.BUTTON:return r.createElement(Ja,vr()({key:s.uuid},s));case X.LINK:return r.createElement(aa,vr()({key:s.uuid},s));case X.TEXT_ENHANCED:case X.TEXT:return r.createElement(da,vr()({key:s.uuid},s));case X.SCENE_NAVIGATOR:return r.createElement(ma,vr()({key:s.uuid},s));case X.HTML:return r.createElement(na,vr()({key:s.uuid},s));case X.COMPOSITE:case X.DYNAMIC_PRODUCT:var l=_()({},s,{size:t,integrations:n});return r.createElement(Ya,vr()({key:s.uuid},l))}},Za=new Be.a,$a=function(e){if(Za.has(e))return Za.get(e);var t=Object(P.uniqueId)("widget-");return Za.set(e,t),t},eo=function(e){function t(){return V()(this,t),Ve()(this,Me()(t).apply(this,arguments))}return We()(t,e),M()(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.widgets,i=t.size,r=t.active,a=t.isInitialLoad,o=n.length===e.widgets.length;return e.active!==r||!o||i.width!==e.size.width||i.height!==e.size.height||a&&!e.isInitialLoad}},{key:"render",value:function(){var e=this.props,t=e.widgets,n=e.size,i=e.active,a=e.integrations,o=hr()(e,["widgets","size","active","integrations"]);return t?r.createElement(r.Fragment,null,t.map(function(e){var t=Qa(e,n,a);return Object(r.cloneElement)(t,_()({key:$a(e),active:i},o))})):null}}]),t}(r.Component),to=we.staticAssetsBaseUrl?"".concat(we.staticAssetsBaseUrl,"/"):"",no="".concat(to,"images/image_default_next_scene.svg"),io="".concat(to,"images/image_default_previous_scene.svg"),ro=Object(c.b)(function(e,t){var n,i=e.viewer,r=e.page,a=e.company,o=i.experiences[i.activeExperienceId],c=o&&o.model,u=t.widgets,s=t.sceneNumber,l=t.size,d=i.initialLoad,p=o.model.width,f=o.model.height;try{n=J.getFrom({width:p,height:f},{width:l.width,height:f*(l.width/p)})}catch(e){n=new J}var g=(l&&d?u.filter(function(e){if(e.rotation&&e.left&&e.width&&e.top&&e.height){var t=l.width*(e.width/100),n=l.height*(e.height/100),i=l.width*(e.left/100),a=l.height*(e.top/100),o=e.rotation&&e.rotation>=360?e.rotation%360:e.rotation,c={a:ur((v={a:{x:0,y:0},b:{x:t,y:0},c:{x:t,y:n},d:{x:0,y:n}}).a,E=o),b:ur(v.b,E),c:ur(v.c,E),d:ur(v.d,E)},u={a:{x:i+c.a.x,y:a+c.a.y},b:{x:i+t+c.b.x,y:a+c.b.y},c:{x:i+t+c.c.x,y:a+n+c.c.y},d:{x:i+c.d.x,y:a+n+c.d.y}};return p=u,f=0,g=0,h=r.viewportWidth,m=r.viewportHeight,!!(sr(p.d.x,p.d.y,p.a.x,p.a.y,f,g,h,m)||sr(p.a.x,p.a.y,p.b.x,p.b.y,f,g,h,m)||sr(p.b.x,p.b.y,p.c.x,p.c.y,f,g,h,m)||sr(p.c.x,p.c.y,p.d.x,p.d.y,f,g,h,m)||function(e,t,n){var i=!1;function r(e,i,r){return(e.y>n&&i.y<n||e.y<n&&i.y>n)&&t<(i.x-e.x)*(n-e.y)/(i.y-e.y)+e.x&&(r=!r),r}return i=r(e.a,e.b,i),i=r(e.b,e.c,i),i=r(e.c,e.d,i),i=r(e.d,e.a,i)}(p,f,g)||function(e,t,n,i,r){function a(e){return t<e.x&&t+i>e.x&&n<e.y&&n+r>e.y}var o=a(e.a),c=a(e.b),u=a(e.c),s=a(e.d);return o&&c&&u&&s}(p,f,g,h,m))}if(void 0!==e.left&&void 0!==e.width&&void 0!==e.top){var s=l.width*(e.left/100);if(r.viewportWidth<s)return!1;if(0>s+l.width*(e.width/100))return!1;var d=l.height*(e.top/100);if(r.viewportHeight<d)return!1;if(void 0===e.height)return!0;if(0<=d+l.height*(e.height/100))return!0}var p,f,g,h,m,v,E;return!1}):!d&&l?u:[]).map(function(e){var t=e.rotation&&e.rotation>=360?e.rotation%360:e.rotation;if(e.type!==X.IMAGE){if(e.type===X.TEXT||e.type===X.BUTTON){var n=null,r=null;return n=e.fontProvider===q.TYPEKIT?e.fontMetadata.cssFamilyNames.toString():e.fontProvider===q.CUSTOM?'"'.concat(e.fontFamily,'"'):e.fontFamily,e.type===X.BUTTON&&(r=[{fontFamily:e.fontFamily,fontProvider:e.fontProvider,fontWeight:e.fontWeight,fontSize:e.fontSize,fontStyle:e.fontStyle,fontMetadata:e.fontMetadata}]),_()({},e,{fontFamily:n,rotation:t,sceneNumber:s,fontFamilies:e.type===X.BUTTON?r:e.fontFamilies})}return e.type===X.TEXT_ENHANCED?_()({},e,{fontFamily:null,fontSize:null,rotation:t,sceneNumber:s}):_()({},e,{rotation:t,sceneNumber:s})}var o=e.src,c=e.action&&e.action.type===$.SceneNavigation&&!o;if(a.model&&(o||c)){c&&(o="next"===e.action.target?no:io);var u=!c&&(a.model.cloudinaryDefaultImageProvider||!!e.crop),l=u&&a.model.enableImageLQIP,d=u?o:Oa(o),p=e.sourceType;p=!e.sourceType&&u?Y.Cloudinary:Y.Creator;var f=e.effects.map(function(e){if(e.type===ie.IMAGE_TOGGLE){var t=e.src,n=u?Ia(t,null):Oa(t);return _()({},e,{src:n})}return _()({},e)});return _()({},e,{effects:f,src:d,sourceType:p,rotation:t,sceneNumber:s,loadedImageWidth:i.loadedImages&&i.loadedImages[e.imageId]?i.loadedImages[e.imageId]:void 0,lowQualityImagePlaceholder:l,cloudinaryImageAndDprOverride:a.model.cloudinaryImageAndDprOverride})}});return _()({},t,{scale:n,widgets:g.filter(function(e){return!!e}),integrations:c.integrations,isInitialLoad:d})})(eo),ao=function(e){function t(e){return V()(this,t),Ve()(this,Me()(t).call(this,e))}return We()(t,e),M()(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.model,i=t.size,r=t.hidden,a=i.width,o=i.height;return e.model.id!==n.id||e.size.width!==a||e.size.height!==o||e.hidden!==r}},{key:"render",value:function(){var e=this.props,t=e.model,n=e.size,i=e.style,a=e.active,o=void 0!==a&&a,c=e.hidden,u=void 0!==c&&c,s=t.sceneNumber,l=t.widgets,d=n.width,p=n.height,f=_()({position:"absolute",overflow:"hidden",pointerEvents:"none",width:d,height:p,visibility:u?"hidden":"visible",zIndex:0,top:0,left:0},i);return r.createElement("div",{className:"scene-".concat(s),style:f},r.createElement(ro,{widgets:l,active:o,size:n,sceneNumber:s}))}}]),t}(r.Component),oo=.5,co=function(e){function t(e){var n;return V()(this,t),n=Ve()(this,Me()(t).call(this,e)),W()(Ge()(Ge()(n)),"myRef",void 0),W()(Ge()(Ge()(n)),"getSceneElement",function(e){var t=o.findDOMNode(n.myRef[e]);return t&&t.children[0]}),W()(Ge()(Ge()(n)),"executeSlide",function(e,t,n,i,r){var a,o=W()({},r,n),c=W()({},r,i),u=(a={},W()(a,r,-1*n),W()(a,"onComplete",function(){yr.i.to(t,0,{visibility:"hidden"})}),a);yr.i.fromTo(e,oo,o,c),yr.i.fromTo(t,oo,c,u)}),W()(Ge()(Ge()(n)),"animateElements",function(e,t,i,r){switch(yr.i.set(e,{visibility:"visible"}),yr.i.set(t,{visibility:"visible"}),r){case g.SLIDE_FROM_BOTTOM:n.executeSlide(e,t,i.height,0,"y");break;case g.SLIDE_FROM_TOP:n.executeSlide(e,t,-i.height,0,"y");break;case g.SLIDE_FROM_RIGHT:n.executeSlide(e,t,i.width,0,"x");break;case g.SLIDE_FROM_LEFT:n.executeSlide(e,t,-i.width,0,"x");break;case g.FADE:yr.i.fromTo(e,oo,{autoAlpha:0},{autoAlpha:1}),yr.i.fromTo(t,oo,{autoAlpha:1},{autoAlpha:0});break;default:yr.i.fromTo(e,0,{autoAlpha:0},{autoAlpha:1}),yr.i.fromTo(t,0,{autoAlpha:1},{autoAlpha:0})}}),n.myRef={},n.state={currentSceneId:e.sceneId,currentSceneSize:e.sceneSize,shouldAnimate:!1},n}return We()(t,e),M()(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.sceneId,i=t.currentSceneId;return n!==i?{currentSceneId:n,previousSceneId:i,shouldAnimate:!0}:{currentSceneId:i,shouldAnimate:!1}}}]),M()(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=t.shouldAnimate,i=!this.props.sceneSize.equals(e.sceneSize);return n||i}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=t.sceneId;return r.Children.map(n,function(t){var n=t,a=n.props.model,o={active:a.id===i};return r.createElement("div",{ref:function(t){return e.myRef[a.id]=t}},Object(r.cloneElement)(n,o))})}},{key:"componentDidUpdate",value:function(){if(this.state.shouldAnimate){var e=this.props,t=e.transitionType,n=t;if(e.transitionDirection===u.a.BACKWARDS)switch(t){case g.SLIDE_FROM_RIGHT:n=g.SLIDE_FROM_LEFT;break;case g.SLIDE_FROM_BOTTOM:n=g.SLIDE_FROM_TOP;break;case g.SLIDE_FROM_LEFT:n=g.SLIDE_FROM_RIGHT;break;case g.SLIDE_FROM_TOP:n=g.SLIDE_FROM_BOTTOM;break;default:n=t}var i=this.state,r=i.currentSceneId,a=i.previousSceneId,o=this.getSceneElement(r);if(o){var c=this.getSceneElement(a);c&&(yr.i.set(c,{top:0,left:0,position:"absolute"}),this.animateElements(o,c,this.props.sceneSize,n))}}}}]),t}(r.Component),uo=function(e){var t=e.scenes,n=e.currentSceneIndex,i=e.size,a=e.transition,o=e.transitionDirection,c=e.initialLoad,u=n-1,s=t[u],l=function(e,t,n,i){if(1===e.length)throw new Error("'computeCurrentScenes' needs at least 2 scenes.");if(t>=e.length)throw new RangeError("Invalid index: ".concat(t,". We only have ").concat(e.length," scenes."));var a=e.length-1,o=t+1>a?0:t+1,c=t-1<0?a:t-1,u=e[t],s=e[o],l=e[c],d={size:n},p=[r.createElement(ao,vr()({model:u,key:u.id},d))];return i||(p.splice(0,0,r.createElement(ao,vr()({model:l,hidden:!0,key:l.id},d))),e.length>2&&p.push(r.createElement(ao,vr()({model:s,hidden:!0,key:s.id},d)))),p}(t,u,i,c);return r.createElement(co,{transitionDirection:o,transitionType:a,sceneSize:i,sceneId:s.id},l)},so=function(e){return r.createElement(ao,vr()({style:{position:"absolute",top:0,left:0}},e))},lo=function(e){var t=e.scenes,n=e.overlayScene,i=e.backgroundScene,a=e.size,o=e.initialLoad,c=e.transition,u=e.transitionDirection,s=e.currentSceneIndex,l=void 0===s?1:s,d=hr()(e,["scenes","overlayScene","backgroundScene","size","initialLoad","transition","transitionDirection","currentSceneIndex"]),p=1===t.length?r.createElement(ao,vr()({model:t[0],active:!0,size:a},d)):r.createElement(uo,vr()({currentSceneIndex:l,scenes:t,size:a,transitionDirection:u,transition:c,initialLoad:o},d));return r.createElement("div",null,r.createElement(so,{model:i,size:a,active:!0}),p,r.createElement(so,{model:n,size:a,active:!0}))},po=n(122),fo=n(164),go=n.n(fo),ho={position:"fixed",background:"#000",zIndex:1e3},mo={position:"absolute",top:-14,right:-14,width:28,height:28,cursor:"pointer",zIndex:1e3},vo={position:"relative",width:"100%",height:"100%",border:0},Eo={position:"fixed",top:0,left:0,bottom:0,right:0,width:"100%",height:"100%",zIndex:1e3,background:"black",opacity:.65},yo={width:mo.width,height:mo.height},wo=function(e){var t=e.url,n=e.closeLightbox,i=e.renderedLightBoxProps,a="".concat(we.viewerBaseUrl,"/images/icons/close.svg"),o=i?i.height:0,c=i?i.width:0,u=i?i.left:0,s=i?i.top:0,l=_()({},ho,{left:u,top:s,height:o,width:c});return r.createElement("div",null,r.createElement("div",{className:"zmags-lightbox-overlay",style:Eo,onClick:n}),r.createElement("div",{style:l},r.createElement("div",{className:"zmags-lightbox-close",onClick:n,style:mo},r.createElement(Ua.a,{src:a,svgStyle:yo})),r.createElement("iframe",{src:t,style:vo})))},bo=!("undefined"==typeof window||!window.document||!window.document.createElement),xo=function(e){function t(e){var n;return V()(this,t),(n=Ve()(this,Me()(t).call(this,e))).state={lightboxNode:null,lightboxDocument:null},n}return We()(t,e),M()(t,[{key:"componentWillMount",value:function(){var e=this.state.lightboxNode;if(!bo)return null;var t=(bo?Lt(!1).document:null)||document;if(!e){var n=t.createElement("div");n.className="zmags-lightbox-viewer",t.body.appendChild(n),this.setState(function(e){return _()({},e,{lightboxNode:n,lightboxDocument:t})})}}},{key:"componentWillUnmount",value:function(){var e=this.state,t=e.lightboxNode,n=e.lightboxDocument;t&&n&&n.body.removeChild(t),this.setState(function(e){return _()({},e,{lightboxNode:null,lightboxDocument:null})})}},{key:"componentDidMount",value:function(){var e=this,t=this.state.lightboxDocument;t&&t.addEventListener("keyup",function(t){27===t.keyCode&&e.props.closeLightbox()})}},{key:"render",value:function(){var e=go()({},this.props),t=this.state.lightboxNode;return bo&&t?Object(o.createPortal)(r.createElement(wo,e),t):null}}]),t}(r.PureComponent),ko=function(e){function t(){var e,n;V()(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=Ve()(this,(e=Me()(t)).call.apply(e,[this].concat(r))),W()(Ge()(Ge()(n)),"touchCoords",{clientX:0,clientY:0}),W()(Ge()(Ge()(n)),"state",{swipe:!1,minDistance:30,touchCoords:n.touchCoords}),W()(Ge()(Ge()(n)),"onTouchStart",function(e){n.setState({touchCoords:{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}})}),W()(Ge()(Ge()(n)),"onTouchMove",function(e){e.changedTouches&&e.changedTouches.length&&n.setState({swipe:!0})}),W()(Ge()(Ge()(n)),"onTouchEnd",function(e){var t=e.changedTouches[0],i=t.clientX-n.state.touchCoords.clientX,r=t.clientY-n.state.touchCoords.clientY;n.state.swipe&&Math.abs(i)>n.state.minDistance&&Math.abs(i)>Math.abs(r)&&(i>0?n.props.onSwipeLeft():n.props.onSwipeRight()),n.setState({swipe:!1})}),n}return We()(t,e),M()(t,[{key:"render",value:function(){return r.createElement("div",{onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,style:this.props.style},this.props.children)}}]),t}(r.PureComponent);W()(ko,"defaultProps",{onSwipeLeft:function(){return P.noop},onSwipeRight:function(){return P.noop},style:{}});var Io=function(e){function t(){var e,n;V()(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=Ve()(this,(e=Me()(t)).call.apply(e,[this].concat(a))),W()(Ge()(Ge()(n)),"handleMouseEnter",function(){n.props.onMouseEnter(n.props.model.id)}),W()(Ge()(Ge()(n)),"handleMouseLeave",function(){n.props.onMouseLeave(n.props.model.id)}),W()(Ge()(Ge()(n)),"handleSwipeLeft",function(){n.props.changeScene(u.a.BACKWARDS)}),W()(Ge()(Ge()(n)),"handleSwipeRight",function(){n.props.changeScene(u.a.FORWARDS)}),W()(Ge()(Ge()(n)),"buildSwipableScenes",function(e){return n.props.sceneHasNavigation?n.buildScenes():r.createElement(ko,{style:e,onSwipeLeft:n.handleSwipeLeft,onSwipeRight:n.handleSwipeRight},n.buildScenes())}),W()(Ge()(Ge()(n)),"buildScenes",function(){var e=n.props,t=e.frame,i=e.model,a=e.sceneNumber,o=e.transitionDirection,c=e.initialLoad;return r.createElement(lo,{size:t.size,initialLoad:c,overlayScene:i.overlayScene,backgroundScene:i.backgroundScene,scenes:i.scenes,currentSceneIndex:a,transition:i.transition,transitionDirection:o})}),n}return We()(t,e),M()(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.model,n=e.model,i=e.frame;return void 0!==t||t!==n||!i.height||!i.width}},{key:"render",value:function(){var e=this.props,t=e.frame,n=e.model,a=e.closeLightboxHandler,o=e.renderedLightBoxProps,c=e.lightbox,u=e.experienceFit;if(!n||"BreakpointGroup"===n.type)return null;var s={width:t.width,height:t.height,backgroundColor:n.backdrop.color,position:"relative"};u===i.Height&&(t.x&&(s.left=t.x),t.y&&(s.top=t.y));var d={width:"100%",height:"100%"};n.backdrop.type===l.IMAGE&&(s=_()({},s,{backgroundColor:"transparent"}),"Experience"===n.backdrop.fit?s=_()({},s,{backgroundImage:'url("'.concat(we.viewerApiBaseUrl,"/").concat(n.backdrop.image.url,'")'),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"top center"}):d=_()({},d,{backgroundImage:'url("'.concat(we.viewerApiBaseUrl,"/").concat(n.backdrop.image.url,'")'),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"top center"}));var p=c?r.createElement(xo,{url:c.url,width:c.width,height:c.height,closeLightbox:a,renderedLightBoxProps:o}):null;return r.createElement("div",{style:d,"data-version":we.version},r.createElement("div",{style:s,className:ar.experienceViewer,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.buildSwipableScenes(d),p))}}]),t}(r.Component);W()(Io,"defaultProps",{sceneNumber:1,transitionDirection:u.a.FORWARDS,frame:new fr(0,0,800,600),lightbox:void 0,closeLightboxHandler:P.noop,experienceFit:i.Width,onMouseEnter:function(){return P.noop},onMouseLeave:function(){return P.noop}});var Ao=function(e){return e&&e.currentSceneNumber?e.currentSceneNumber:0},_o=function(e){return e&&e.model},Oo=function(e){return e&&"sceneNavigation"===e.type&&"previous"!==e.target&&"next"!==e.target},To=function(e){return!(!e||!e.find(function(e){if(Oo(e.action))return!0;e.type===X.COMPOSITE&&e.group&&e.group.forEach(function(e){return Oo(e.action)})}))},Lo=function(e){var t=!1,n=_o(e),i=Ao(e);if(n&&i){var r=n.scenes.find(function(e){return e.sceneNumber===i.toString()});t=To(r.widgets)||t,t=To(n.overlayScene.widgets)||t,t=To(n.backgroundScene.widgets)||t}return t},So=Object(c.b)(function(e,t){var n,r=e.viewer,a=e.viewer.lightbox,o=function(e,t){return function(e){var t=e.model;return!t||"Active"===t.state}(t)?e.experiences[e.activeExperienceId]:void 0}(r,e.company),c=Ao(o),u=(n=o)&&n.transitionDirection?n.transitionDirection:0,s=r.initialLoad,l=r.experienceFit,d=function(e,t,n){var r,a,o,c,u=(c=e)&&c.model?c.model.width:0,s=function(e){return e&&e.model?e.model.height:0}(e),l=t.containerHeight,d=t.containerWidth,p=new dr(u,s),f=new dr(d,l);n===i.Height&&f.aspectRatio>p.aspectRatio?(a=p.width*(l/p.height),o=new dr(a,l)):(r=p.height*(d/p.width),o=new dr(d,r));var g=o.shrinkToAspectRatio(p.aspectRatio),h=new pr(d/2-g.width/2,l/2-g.height/2);return new fr(h,g)}(o,e.page,l),p=e.page,f=p.viewportHeight,g=p.viewportWidth,h=a?a.width:1,m=a?a.height:1,v=Math.min(f,m),E=h*(v/m),y={width:E,height:v,left:(g-E)/2,top:v<f?(f-v)/2:0};return _()({},t,{lightbox:a,renderedLightBoxProps:y,model:_o(o),frame:d,sceneNumber:c,transitionDirection:u,initialLoad:s,sceneHasNavigation:Lo(o),experienceFit:l})},function(e){return{closeLightboxHandler:function(){e(Object(O.closeLightboxAction)())},onMouseEnter:function(t){e(Object(O.signalExperienceMouseEnter)(t))},onMouseLeave:function(t){e(Object(O.signalExperienceMouseLeave)(t))},onChangeScene:function(t,n,i){e(Object(O.signalExperienceSceneChange)(t,n,i))}}},function(e,t){var n=e.model,i=e.transitionDirection,r=e.sceneNumber,a=t.closeLightboxHandler,o=t.onMouseEnter,c=t.onMouseLeave,u=t.onChangeScene,s=null==n?void 0:n.id,l={model:n,transitionDirection:i,currentSceneNumber:r};return _()({},e,{closeLightboxHandler:a,onMouseEnter:o,onMouseLeave:c,changeScene:function(e){s&&u(s,Object(po.b)(e,l),e)}})})(Io),Co=Object(c.b)(null,function(e){return{onResize:function(t,n){e(Object(O.signalExperienceContainerChange)({height:n,width:t}))}}})(function(e){var t=e.onResize;return r.createElement(r.Fragment,null,r.createElement(rr.a,{handleWidth:!0,handleHeight:!1,onResize:t,refreshMode:"throttle",refreshRate:300}),r.createElement(So,null))}),No=function(e,t){var i=Array.prototype.slice.call(document.querySelectorAll(t?".zmags-viewer-container.event-start":".zmags-viewer-container"));n(351),G.registerProvider(new Ae),G.registerProvider(new xe),G.registerProvider(new _e),G.registerProvider(new ke),G.registerProvider(new Ie),i.forEach(function(e){var t=e.getAttribute("data-experience"),n=e.getAttribute("data-group"),i=e.getAttribute("data-template"),a="true"===e.getAttribute("data-fit-in-height"),u="true"===e.getAttribute("data-group-disable"),s=!(!t||!window[t+"_STATE"]),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=Object(w.createStore)(L,e,Object(x.composeWithDevTools)(w.applyMiddleware.apply(void 0,C)));return{store:t,runSaga:S.run,close:function(){return t.dispatch(b.END)}}}(s?window[t+"_STATE"]:y),d=l.store,p=d.dispatch;l.runSaga(nr),Object(O.initializeViewer)(p),a&&p(Object(O.signalViewerFitInHeightAction)()),p(Object(O.signalViewportChange)({height:window.innerHeight,width:window.innerWidth},{height:window.outerHeight,width:window.outerWidth})),i?p(Object(O.signalTemplateLoad)(i)):t?p(Object(O.activateExperience)(t,u)):n&&p(Object(O.signalGroupLoad)(n)),(s?o.hydrate:o.render)(r.createElement(c.a,{store:d},r.createElement(Co,null)),e)})};window.STARTED_ZMAGS_SCRIPTS||(window.STARTED_ZMAGS_SCRIPTS=!0,document.addEventListener("ZmagsInitialize",function(e){No(0,!0)}),document.addEventListener("DOMContentLoaded",No))}},[[407,1,2]]]);